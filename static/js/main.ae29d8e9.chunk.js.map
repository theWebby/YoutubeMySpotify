{"version":3,"sources":["images/SpotifyOnPhoneSignal.png","images/LogoOnScreen.png","components/YoutubeMySpotify/YoutubePlayer/index.js","components/YoutubeMySpotify/styled/index.js","api/request.js","api/spotifyApi.js","components/YoutubeMySpotify/helpers.js","components/YoutubeMySpotify/SpotifyPlayer/SpotifyControlPanel/styled/index.js","components/YoutubeMySpotify/SpotifyPlayer/SpotifyControlPanel/index.js","components/YoutubeMySpotify/SpotifyPlayer/index.js","components/YoutubeMySpotify/PlayingContext/styled/index.js","components/YoutubeMySpotify/PlayingContext/index.js","components/YoutubeMySpotify/SpotifyPlaylists/Playlist/index.js","components/YoutubeMySpotify/SpotifyPlaylists/styled/index.js","components/YoutubeMySpotify/SpotifyPlaylists/index.js","components/YoutubeMySpotify/index.js","components/AccountManager/AccountSummary/styled/index.js","components/AccountManager/AccountSummary/index.js","components/AccountManager/StoredUser/styled/index.js","components/AccountManager/helpers.js","constants.js","components/AccountManager/StoredUser/index.js","components/AccountManager/styled/index.js","components/AccountManager/index.js","components/WelcomePage/FadeInText/styled/index.js","components/WelcomePage/FadeInText/index.js","components/WelcomePage/styled/index.js","components/WelcomePage/index.js","components/Header/styled/index.js","components/Header/DropdownButton/styled/index.js","components/Header/DropdownButton/index.js","components/Header/index.js","App.js","index.js"],"names":["module","exports","YoutubePlayer","props","componentDidMount","window","YT","loadVideo","tag","document","createElement","src","onYouTubeIframeAPIReady","firstScriptTag","getElementsByTagName","parentNode","insertBefore","id","player","Player","videoId","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","event","target","render","className","this","loadVideoById","console","log","React","Component","Container","styled","div","StyledYoutubePlayer","request","theUrl","method","accessToken","params","Promise","resolve","reject","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","open","setRequestHeader","send","stringify","SpotifyApi","refreshToken","url","getNewAccessToken","access_token","_makeRequest","ms","timeout","setTimeout","RoundedButton","Button","ControlPanelContainer","Info","p","MarqueeContainer","SpotifyControlPanel","renderInfoPanel","renderControlPanel","spotifyApi","play","catch","e","playingContext","skip","playNextFromTop50","prev","currentlyPlaying","variant","onClick","onPrev","onPlay","is_playing","onSkip","Object","keys","length","item","name","album","velocity","artists","map","artist","index","array","SpotifyPlayer","update","a","mounted","getCurrentlyPlaying","state","spotifyPlayer","updateYoutubePlayer","pauseSpotifyIfNearEnd","skipWhenVideoEnds","youtubePlayerState","updateYoutubePlayerState","data","progress_ms","duration_ms","seek","isCurrentlyPlayingNew","getVideoIdFromCurrentlyPlaying","youtubeVideoId","waitForPlayerToPlay","songName","artistName","lastSongId","currentlyPlayingId","setState","updatePlayingContext","context","onPlayingContextChange","getNextTopTrack","getPlayingContextFromCurrentlyPlaying","lastSong","topTracks","getTopTracks","items","storedTopTracks","nextTopTrack","restTopTracks","get","href","Text","PlayingContext","SpotifyPlaylists","StyledPlaylist","Playlist","YoutubeMySpotify","current","onYoutubePlayerStateChange","ref","style","width","createRef","AccountSummaryContainer","StyledImage","Image","Name","h2","InfoContainer","AccountSummary","profile","display","images","roundedCircle","display_name","followers","total","product","StoredUserContainer","ProfilePicture","DeleteAccount","setCurrentUser","currentUser","localStorage","setItem","loadCurrentUser","getItem","setUsers","users","loadUsers","deleteUser","userToDelete","newUsers","filter","user","removeItem","addNewAccountRedirect","clientUrl","location","includes","StoredUser","preventBubble","cancelBubble","stopPropagation","deleteAccountHandler","updateUsers","useAccountHandler","history","push","withRouter","AccountManagerContainer","StyledButton","FacebookNotice","AccountManager","storeCurrentUser","stayLoggedIn","newUserId","some","key","getCurrentUserFromLocation","getStoredUsers","refresh_token","queryString","search","getProfile","userProfile","getUserProfile","fadeIn","keyframes","delay","toString","FadeInText","children","defaultProps","PhoneWithSignal","img","LogoOnScreen","Heading","h1","BootstapButton","WelcomePage","onClickHere","fluid","Row","Col","md","logoOnScreen","span","offset","size","fontSize","phoneWithSignal","showFirst","showSecond","showThird","HeaderContainer","HeaderText","StyledDropdown","Dropdown","StyledDropDownItem","Item","CustomToggle","forwardRef","color","class","preventDefault","labeledBy","aria-labelledby","DropdownButton","alignRight","Toggle","as","Menu","onclick","isCurrentUser","text","Divider","renderMenuItem","Header","generateDropDownProps","generateItemsArrayFromUsers","App","forceUpdate","http-equiv","content","path","ReactDOM","getElementById"],"mappings":"8FAAAA,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,0C,uNCkE5BC,E,YA/Db,WAAYC,GAAO,IAAD,8BAChB,+CAGFC,kBAAoB,WAGlB,GAAKC,OAAOC,GAWV,EAAKC,gBAXS,CACd,IAAMC,EAAMC,SAASC,cAAc,UACnCF,EAAIG,IAAM,qCAGVN,OAAOO,wBAA0B,EAAKL,UAEtC,IAAMM,EAAiBJ,SAASK,qBAAqB,UAAU,GAC/DD,EAAeE,WAAWC,aAAaR,EAAKK,KAf9B,EAsBlBN,UAAY,WAAO,IACTU,EAAO,EAAKd,MAAZc,GAGR,EAAKC,OAAS,IAAIb,OAAOC,GAAGa,OAAd,yBAAuCF,GAAM,CACzDG,QAASH,EACTI,OAAQ,CACNC,QAAS,EAAKC,cACdC,cAAe,EAAKC,wBA9BR,EAmClBA,oBAAsB,SAACC,GACrB,EAAKvB,MAAMsB,oBAAoBC,IApCf,EAwClBH,cAAgB,SAAAG,GACd,EAAKR,OAASQ,EAAMC,QAzCJ,EAqDlBC,OAAS,WAAO,IACNX,EAAO,EAAKd,MAAZc,GACR,OACE,yBAAKY,UAAW,EAAK1B,MAAM0B,WACzB,yBAAKZ,GAAE,yBAAoBA,OAzDf,E,2EA4CJA,GACZa,KAAKZ,OAAOa,cAAcd,EAAI,K,sCAK9B,OADAe,QAAQC,IAAIH,KAAKZ,OAAOa,iBACdD,KAAKZ,OAAOa,kB,GAnDEG,IAAMC,W,kNCC3B,IAAMC,EAAYC,IAAOC,IAAV,KAKTC,EAAsBF,YAAOnC,EAAPmC,CAAH,K,QCRjB,SAASG,EAAQC,EAAQC,EAAQC,GAA4B,IAAfC,EAAc,uDAAL,KAClE,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzB,IAAIC,EAAU,IAAIC,eAClBD,EAAQE,mBAAqB,WACE,IAAvBF,EAAQG,YAAwC,MAAnBH,EAAQI,QACrCN,EAAQO,KAAKC,MAAMN,EAAQO,eAEJ,IAAvBP,EAAQG,YAAwC,MAAnBH,EAAQI,QACrCN,IAEuB,IAAvBE,EAAQG,YACRJ,EAAOC,IAIfA,EAAQQ,KAAKd,EAAQD,GAAQ,GACzBE,GACAK,EAAQS,iBAAiB,gBAAiB,UAAYd,GAEtDC,GACAI,EAAQS,iBAAiB,eAAgB,oBAE7CT,EAAQU,KAAKL,KAAKM,UAAUf,O,ICnBfgB,E,WACjB,WAAYjB,EAAakB,GAAc,oBACnC/B,KAAKa,YAAcA,EACnBb,KAAK+B,aAAeA,E,kGAGLC,EAAKpB,EAAQC,G,0FAEXH,EAAQsB,EAAKpB,EAAQC,G,2EAGjB,MAAb,KAAES,O,kCACwBtB,KAAKiC,kBAAkBjC,KAAK+B,c,eAAtD/B,KAAKa,Y,OAAgEqB,a,kBAC9DxB,EAAQsB,EAAKpB,EAAQZ,KAAKa,c,iKAOzCmB,GACA,OAAOhC,KAAKmC,aAAaH,EAAK,MAAOhC,KAAKa,e,4CAI1C,OAAOb,KAAKmC,aAAa,yDAA0D,MAAOnC,KAAKa,e,8BAI/F,OAAOb,KAAKmC,aAAa,6CAA8C,MAAOnC,KAAKa,e,6BAInF,OAAOb,KAAKmC,aAAa,4CAA6C,OAAQnC,KAAKa,e,6BAKnF,OAAOb,KAAKmC,aAAa,gDAAiD,OAAQnC,KAAKa,e,2BAGtFuB,GACD,OAAOpC,KAAKmC,aAAL,gEAA2EC,GAAM,MAAOpC,KAAKa,e,6BAIpG,OAAOb,KAAKmC,aAAa,4CAA6C,MAAOnC,KAAKa,e,mCAIlF,OAAOb,KAAKmC,aAAa,gCAAiC,MAAOnC,KAAKa,e,qCAItE,OAAOb,KAAKmC,aAAa,oDAAqD,MAAOnC,KAAKa,e,wCAG5EkB,GACd,OAAOrB,EAAQ,2DAAD,OAA4DV,KAAK+B,cAAgB,W,KC7D1FM,EAAU,SAACD,GACtB,OAAO,IAAIrB,SAAQ,SAACC,GAClBsB,YAAW,WAAOtB,MAAYoB,O,slBCC3B,IAAMG,EAAgBhC,YAAOiC,IAAPjC,CAAH,KAObkC,EAAwBlC,IAAOC,IAAV,KAMrBkC,EAAOnC,IAAOoC,EAAV,KAMJC,EAAmBrC,IAAOC,IAAV,K,yBC+CdqC,E,YA/Db,WAAYxE,GAAQ,IAAD,8BACjB,+CAkDFyB,OAAS,WACP,OACE,kBAAC2C,EAAD,KACE,yBAAK1C,UAAW,EAAK1B,MAAM0B,WACxB,EAAK+C,kBACL,EAAKC,wBAxDK,E,sEAKjB/C,KAAK3B,MAAM2E,WAAWC,OAAOC,OAAM,SAAAC,GAAMjD,QAAQC,IAAIgD,Q,+BAIpB,uBAA9BnD,KAAK3B,MAAM+E,eAKdpD,KAAK3B,MAAM2E,WAAWK,OAAOH,OAAM,SAAAC,GAAMjD,QAAQC,IAAIgD,MAJnDnD,KAAK3B,MAAMiF,sB,+BAQbtD,KAAK3B,MAAM2E,WAAWO,OAAOL,OAAM,SAAAC,GAAMjD,QAAQC,IAAIgD,Q,2CAGjC,IAAD,OACXK,EAAqBxD,KAAK3B,MAA1BmF,iBAGR,OACE,6BACE,kBAACjB,EAAD,CAAekB,QAAQ,YAAYC,QAAS,kBAAM,EAAKC,WAAU,kBAAC,IAAD,OACrE,kBAACpB,EAAD,CAAekB,QAAQ,YAAYC,QAAS,kBAAM,EAAKE,WAAWJ,EAAiBK,WAAa,kBAAC,IAAD,MAAgB,kBAAC,IAAD,OAC5G,kBAACtB,EAAD,CAAekB,QAAQ,YAAYC,QAAS,kBAAM,EAAKI,WAAU,kBAAC,IAAD,U,wCAKpD,IACTN,EAAqBxD,KAAK3B,MAA1BmF,iBAER,OAAKO,OAAOC,KAAKR,GAAkBS,OAKjC,6BACE,6BAAK,kBAACvB,EAAD,KAAOc,EAAiBU,KAAKC,MAAlC,MAAiD,kBAACzB,EAAD,KAAOc,EAAiBU,KAAKE,MAAMD,OACpF,kBAACvB,EAAD,KACE,kBAAC,IAAD,CAASyB,SAAU,MAAQb,EAAiBU,KAAKI,QAAQC,KAAI,SAACC,EAAQC,EAAOC,GAAhB,OAA0BF,EAAOL,MAAQM,IAAUC,EAAMT,OAAO,EAAI,GAAK,YAPnI,iE,GAvCqB7D,IAAMC,WC8LzBsE,E,YAxLb,WAAYtG,GAAQ,IAAD,uBACjB,+CAiCFuG,OAlCmB,sBAkCV,4BAAAC,EAAA,0DACD,EAAKC,QADJ,0CAGG,EAAKC,sBAHR,UAKsBvB,EAAsB,EAAKwB,MAA5CC,cAAiBzB,iBAEmB,IAAzCO,OAAOC,KAAKR,GAAkBS,OAP9B,iCAQK,EAAKiB,oBAAoB1B,GAR9B,wBASK,EAAK2B,sBAAsB3B,GAThC,yBAaG,EAAK4B,oBAbR,0DAgBOlF,QAAQC,IAAI,IAAZ,MAhBP,yBAkBCkC,EAzDiC,MAuClC,iFAlCU,EAiEnB+C,kBAjEmB,sBAiEC,sBAAAP,EAAA,yDACa,IAA5B,EAAKQ,mBADU,gCAEV,EAAKrC,WAAWK,OAFN,2CAjED,EAuEnBiC,yBAA2B,SAAC1F,GAC1B,EAAKyF,mBAAqBzF,EAAM2F,MAxEf,EA2EnBJ,sBA3EmB,uCA2EK,WAAO3B,GAAP,mBAAAqB,EAAA,yDACdhB,EAAkCL,EAAlCK,WAAY2B,EAAsBhC,EAAtBgC,YAAatB,EAASV,EAATU,KAE5BL,EAHiB,iDAOlBK,EAAKuB,YAAcD,EAtFG,MAuFtB,EAAKxC,WAAW0C,KAAKF,EAAc,MARjB,2CA3EL,wDAuFnBN,oBAvFmB,uCAuFG,WAAO1B,GAAP,eAAAqB,EAAA,0DAChB,EAAKc,sBAAsBnC,GADX,gCAEW,EAAKoC,+BAA+BpC,GAF/C,cAEZqC,EAFY,OAGlB,EAAKxH,MAAM6G,oBAAoBW,GAHb,SAIZ,EAAKC,sBAJO,2CAvFH,wDA+FnBA,oBA/FmB,sBA+FG,sBAAAjB,EAAA,yDACW,IAA5B,EAAKQ,mBADY,gCAEZhD,EAAQ,IAFI,uBAGZ,EAAKyD,sBAHO,2CA/FH,EAsGnBF,+BAtGmB,uCAsGc,WAAOpC,GAAP,iBAAAqB,EAAA,6DACzBkB,EAAWvC,EAAiBU,KAAKC,KACjC6B,EAAaxC,EAAiBU,KAAKI,QAAQ,GAAGH,KAFrB,SAIlBzD,EAAQ,yCAA0C,OAAQ,GAAI,CAACqF,WAAUC,eAJvD,mFAtGd,wDA6GnBL,sBAAwB,SAACnC,GAAsB,IACrCyC,EAAe,EAAKjB,MAApBiB,WACYC,EAAwB1C,EAApCU,KAAQ/E,GAEhB,OAAI8G,IAAeC,IACf,EAAKC,SAAS,CAACF,WAAYC,KACpB,IAnHM,EAuInBE,qBAAuB,SAACC,GACtB,EAAKhI,MAAMiI,uBAAuBD,GAClC,EAAKF,SAAS,CAAC/C,eAAgBiD,KAzId,EAoJnB/C,kBApJmB,sBAoJC,4BAAAuB,EAAA,6DACVI,EAAkB,EAAKD,MAAvBC,cADU,SAE0B,EAAKsB,kBAF/B,OAElBtB,EAAczB,iBAAiBU,KAFb,OAGlB,EAAKiC,SAAS,CACZlB,kBAEF,EAAKmB,qBAAqB,sBANR,2CApJD,EA6JnBrB,oBA7JmB,sBA6JG,8BAAAF,EAAA,6DACZI,EAAkB,EAAKD,MAAvBC,cADY,SAEU,EAAKjC,WAAW+B,sBAF1B,gDAEoD,GAFpD,UAEhBvB,EAFgB,KAIfO,OAAOC,KAAKR,GAAkBS,OAJf,iBAKa,IAA5B,EAAKoB,qBAAyD,IAA7B,EAAKA,oBACvC,EAAK/B,oBANW,+BAUlB2B,EAAczB,iBAAmBA,EACjC,EAAK2C,SAAS,CACZlB,kBAZgB,UAcZ,EAAKuB,sCAAsChD,GAd/B,4CA7JH,EA+KnB1D,OAAS,WACP,OACE,6BACE,kBAAC,EAAD,iBAAyB,EAAKkF,MAAMC,cAApC,CAAmDjC,WAAY,EAAKA,WAAYI,eAAgB,EAAK4B,MAAM5B,eAAgBE,kBAAmB,EAAKA,uBAhLvJ,EAAK0B,MAAQ,CACXC,cAAe,CACbzB,iBAAkB,IAIpBiD,SAAU,GACVC,UAAW,GACXtD,eAAgB,IAGlB,EAAKiC,oBAAsB,EAC3B,EAAKP,SAAU,EAdE,IAgBTjE,EAA8BxC,EAA9BwC,YAAakB,EAAiB1D,EAAjB0D,aAhBJ,OAiBjB,EAAKiB,WAAa,IAAIlB,EAAWjB,EAAakB,GAjB7B,E,2MAqBX/B,KAAK2G,e,OACX3G,KAAK8E,SAAU,EAEf9E,KAAK4E,S,mJAKL5E,KAAK8E,SAAU,EACf5E,QAAQC,IAAI,gB,qKA2BaH,KAAKgD,WAAW2D,e,OAAnCD,E,OAAmDE,MAEzD5G,KAAKmG,SAAS,CACZU,gBAAiBH,EACjBA,UAAWA,I,qQA6DR1G,KAAKgF,MAAM0B,U,sEAIuB1G,KAAKgF,MAAM0B,WAA7CI,E,MAAiBC,E,YACJ9C,SAChB8C,EAAgB/G,KAAKgF,MAAM6B,iBAG7B7G,KAAKmG,SAAS,CAACO,UAAWK,I,kBACnBD,G,2MAQmCtD,G,2EAC1BA,EAAiB6C,Q,gCACtBrG,KAAKgD,WAAWgE,IAAIxD,EAAiB6C,QAAQY,M,mBAAO9C,K,2BAC3D,iB,OAFEkC,E,KAINrG,KAAKoG,qBAAqBC,G,4GAlJFjG,IAAMC,W,uHCR3B,IAAM6G,EAAO3G,IAAOoC,EAAV,KCoBFwE,E,YAlBb,WAAY9I,GAAQ,IAAD,8BACjB,+CAUFyB,OAAS,WACP,OACE,kBAACoH,EAAD,sBAAqB,EAAKlC,MAAM5B,iBAXlC,EAAK4B,MAAQ,CACX5B,eAAgB,IAHD,E,kFAOEiD,GACnBrG,KAAKmG,SAAS,CAAC/C,eAAgBiD,Q,GATNjG,IAAMC,WCepB+G,E,YAfb,WAAY/I,GAAQ,IAAD,8BACjB,+CAGFyB,OAAS,WAAO,IACNC,EAAc,EAAK1B,MAAnB0B,UAGR,OAFAG,QAAQC,IAAIJ,GAGV,yBAAKA,UAAWA,KATD,E,2BADUK,IAAMC,W,+NCC9B,IAAMC,EAAYC,IAAOC,IAAV,KAIT6G,EAAiB9G,YAAO+G,EAAP/G,CAAH,KCYZ6G,E,YAfb,WAAY/I,GAAQ,IAAD,8BACjB,+CAGFyB,OAAS,WACP,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAUC,UAAU,UACpB,kBAAC,EAAD,CAAUA,UAAU,UACpB,kBAAC,EAAD,CAAUA,UAAU,YATP,E,2BADUK,IAAMC,WC8CtBkH,E,YAxCb,WAAYlJ,GAAQ,IAAD,8BACjB,+CAMF6G,oBAPmB,uCAOG,WAAO/F,GAAP,SAAA0F,EAAA,+DAElB,EAAKzG,cAAcoJ,QAAQvH,cAAcd,GAFvB,+DAKZkD,EAAQ,IALI,OAMlB,EAAK6C,oBAAoB/F,GANP,wDAPH,wDAiBnBsI,2BAA6B,SAAC7H,GAC5B,EAAK+E,cAAc6C,QAAQlC,yBAAyB1F,IAlBnC,EAqBnB0G,uBAAyB,SAACD,GACxB,EAAKc,eAAeK,QAAQpB,qBAAqBC,IAtBhC,EAyBnBvG,OAAS,WACP,OACE,kBAACQ,EAAD,KACE,kBAAC,EAAD,CAAgBoH,IAAK,EAAKP,iBAC1B,kBAAC,EAAD,CAAepH,UAAU,gBAAgB2H,IAAK,EAAKtJ,cAAeuB,oBAAqB,EAAK8H,2BAA4BtI,GAAG,KAE3H,kBAAC,EAAD,iBAAmB,EAAKd,MAAxB,CAA+BqJ,IAAK,EAAK/C,cAAeO,oBAAqB,EAAKA,oBAAqBoB,uBAAwB,EAAKA,0BAEpI,wBAAIqB,MAAO,CAACC,MAAO,SACnB,kBAAC,EAAD,QAhCJ,EAAKxJ,cAAgBgC,IAAMyH,YAC3B,EAAKlD,cAAgBvE,IAAMyH,YAC3B,EAAKV,eAAiB/G,IAAMyH,YAJX,E,2BADUzH,IAAMC,W,4iBCL9B,IAAMyH,GAA0BvH,IAAOC,IAAV,MAIvBuH,GAAcxH,YAAOyH,IAAPzH,CAAH,MAKX0H,GAAO1H,IAAO2H,GAAV,MAIJxF,GAAOnC,IAAOoC,EAAV,MAMJwF,GAAgB5H,IAAOoC,EAAV,MCIXyF,G,YArBb,WAAY/J,GAAQ,IAAD,8BACjB,+CAGFyB,OAAS,WAAO,IACNuI,EAAY,EAAKhK,MAAjBgK,QAER,OACE,kBAACP,GAAD,KACG,4BAAQH,MAAO,CAACW,QAAS,QAASzJ,IAAI,+BAEvC,kBAAC,GAAD,CAAOA,IAAKwJ,EAAQE,OAAOtE,OAASoE,EAAQE,OAAO,GAAGvG,IAAM,2IAA4IwG,eAAa,IACrN,kBAACP,GAAD,KAAOI,EAAQI,cACf,kBAACN,GAAD,KACE,kBAAC,GAAD,KAAOE,EAAQK,UAAUC,MAAzB,cADF,MACqD,kBAAC,GAAD,KAA2B,YAApBN,EAAQO,QAAwB,UAAY,mBAd3F,E,2BADQxI,IAAMC,W,qyBCD5B,IAAMwI,GAAsBtI,IAAOC,IAAV,MAanBsI,GAAiBvI,YAAOyH,IAAPzH,CAAH,MAQd0H,GAAO1H,IAAOoC,EAAV,MAMJoG,GAAgBxI,IAAOC,IAAV,MC5BbwI,GAAiB,SAACC,GAC3B1K,OAAO2K,aAAaC,QAAQ,cAAe5H,KAAKM,UAAUoH,KAGjDG,GAAkB,WAC3B,OAAO7H,KAAKC,MAAMjD,OAAO2K,aAAaG,QAAQ,iBAOrCC,GAAW,SAACC,GACrBhL,OAAO2K,aAAaC,QAAQ,QAAS5H,KAAKM,UAAU0H,KAG3CC,GAAY,WACrB,OAAOjI,KAAKC,MAAMjD,OAAO2K,aAAaG,QAAQ,WAAa,IAGlDI,GAAa,SAACC,GACvB,IAAMH,EAAQC,KACRP,EAAcG,KAEdO,EAAWJ,EAAMK,QAAO,SAAAC,GAAI,OAAIA,EAAKxB,QAAQlJ,KAAOuK,EAAarB,QAAQlJ,MAC/EmK,GAASK,GAENV,EAAYZ,QAAQlJ,KAAOuK,EAAarB,QAAQlJ,IAlBnDZ,OAAO2K,aAAaY,WAAW,gBAuBtBC,GAAwB,WACjC,IAAMC,EAAYzL,OAAO0L,SAAShD,KAAKiD,SAAS,aAC5C,2CACA,iEACJ3L,OAAO0L,SAAShD,KAAhB,UCtCsB,gEDsCtB,2BAAuD+C,IEhCrDG,G,YACJ,WAAY9L,GAAQ,IAAD,8BACjB,+CAGF+L,cAAgB,WAAuB,IAAtBjH,EAAqB,uDAAjB5E,OAAOqB,MAC1BuD,EAAEkH,cAAe,EACblH,EAAEmH,iBAAiBnH,EAAEmH,mBANR,EASnBC,qBAAuB,SAACpH,GACtB,EAAKiH,cAAcjH,GACnBsG,GAAW,EAAKpL,MAAMwL,MACtB,EAAKxL,MAAMmM,eAZM,EAenBC,kBAAoB,SAACtH,GACnB6F,GAAe,EAAK3K,MAAMwL,MAC1B,EAAKxL,MAAMqM,QAAQC,KAAK,sBAjBP,EAoBnB7K,OAAS,WAAO,IACNuI,EAAY,EAAKhK,MAAMwL,KAAvBxB,QAER,OACE,kBAACQ,GAAD,CAAqBnF,QAAS,EAAK+G,mBACjC,kBAAC3B,GAAD,CAAgBjK,IAAKwJ,EAAQE,OAAOtE,OAASoE,EAAQE,OAAO,GAAGvG,IAAM,2IAA4IwG,eAAa,IAC9N,kBAAC,GAAD,KAAOH,EAAQI,cACf,kBAACM,GAAD,CAAerF,QAAS,EAAK6G,sBAA7B,OA3Ba,E,2BADInK,IAAMC,WAkChBuK,eAAWT,I,0YCrCnB,IAAMU,GAA0BtK,IAAOC,IAAV,MAKvBsK,GAAevK,YAAOiC,IAAPjC,CAAH,MAIZwK,GAAiBxK,IAAOoC,EAAV,MCHrBqI,G,YACJ,WAAY3M,GAAQ,IAAD,8BACjB,+CASFmM,YAAc,WACZ,EAAKrE,SAAS,CAAEoD,MAAOC,OACvB,EAAKnL,MAAMmM,eAZM,EA+CnBS,iBAAmB,SAACC,GAAkB,IAAD,EACJ,EAAKlG,MAA5BiE,EAD2B,EAC3BA,YAAaM,EADc,EACdA,MAErB,GAAI2B,EAAc,CAChB,IAAMC,EAAYlC,EAAYZ,QAAQlJ,GAEjCoK,EAAM6B,MAAK,SAAAvB,GAAI,OAAIA,EAAKxB,QAAQlJ,KAAOgM,OAC1C5B,EAAMoB,KAAK1B,GACX,EAAK9C,SAAS,CAAEoD,WAIpBP,GAAeC,GACfK,GAASC,GAIT,EAAKlL,MAAMmM,cACX,EAAKnM,MAAMqM,QAAQC,KAAK,sBAjEP,EAoEnB7K,OAAS,WAAO,IAAD,EACkB,EAAKkF,MAA5BiE,EADK,EACLA,YAAaM,EADR,EACQA,MAErB,OAAIN,EAAYlH,cAAgBkH,EAAYZ,QAExC,6BACE,gEACA,6BACA,kBAAC,GAAmBY,GACpB,kBAAC,GAAD,CAAQxF,QAAQ,YAAYC,QAAS,kBAAM,EAAKuH,kBAAiB,KAAjE,aACA,kBAAC,GAAD,CAAQvH,QAAS,kBAAM,EAAKuH,kBAAiB,KAA7C,eAEA,kBAACF,GAAD,kFAA0F,uBAAGlL,OAAO,SAASoH,KAAK,4BAAxB,WAA1F,uCAMF,6BAEE,2BAAIsC,EAAMtF,OAAS,yBAA2B,eAC7CsF,EAAMhF,KAAI,SAACsF,EAAMpF,GAAP,OAAiB,kBAAC,GAAD,CAAYoF,KAAMA,EAAMW,YAAa,EAAKA,YAAaa,IAAK5G,OACxF,6BACA,kBAAC,GAAD,CAAQf,QAAS,kBAAMqG,OAAvB,uBAzFN,EAAK/E,MAAQ,CACXiE,YAAa,EAAKqC,2BAA2BjN,EAAM4L,UACnDV,MAAO,EAAKgC,kBAGd,EAAKvI,WAAa,IAAIlB,EAAW,EAAKkD,MAAMiE,YAAYpI,YAAa,EAAKmE,MAAMiE,YAAYuC,eAP3E,E,8EAiBjB,OADchC,O,iDAIWS,GACzB,IAAMnJ,EAAS2K,IAAYjK,MAAMyI,EAASyB,QAE1C,MAAO,CACL7K,YAFsCC,EAAhCoB,aAGNH,aAHsCjB,EAAlB0K,iB,4JAQjBxL,KAAKgD,WAAWnC,Y,iEAIKb,KAAKgD,WAAW2I,a,OAApCC,E,QAEE3C,EAAgBjJ,KAAKgF,MAArBiE,aACIZ,QAAUuD,EAEtB5L,KAAKmG,SAAS,CAAE8C,gB,0PAIhBjJ,KAAK6L,iB,2GA5CoBzL,IAAMC,WAoGpBuK,eAAWI,I,gfC3G1B,IAAMc,GAASC,YAAH,MAUC7E,GAAO3G,IAAOoC,EAAV,KAKFmJ,IACO,SAAAzN,GAAK,OAAoB,IAAhBA,EAAM2N,MAAc,MAAQ3N,EAAM2N,MAAMC,WAAa,QCd9EC,G,YACF,WAAY7N,GAAQ,IAAD,8BACf,+CAIJyB,OAAS,WACL,OACI,kBAAC,GAAD,CAAMkM,MAAO,EAAK3N,MAAM2N,OACf,EAAK3N,MAAM8N,WANxBjM,QAAQC,IAAI9B,GAFG,E,2BADE+B,IAAMC,WAe/B6L,GAAWE,aAAe,CACtBJ,MAAO,GAGIE,U,6oBCpBR,IAAMG,GAAkB9L,IAAO+L,IAAV,MAUfC,GAAehM,IAAO+L,IAAV,MAUZE,IAJYjM,IAAOC,IAAV,MAICD,IAAOkM,GAAV,OAMPjK,GAASjC,YAAOmM,IAAPnM,CAAH,MClBboM,G,YACJ,WAAYtO,GAAQ,IAAD,8BACjB,+CAoBFuO,YAAc,WACZ,OAAI,EAAKvO,MAAM4K,YACN,EAAK5K,MAAMqM,QAAQC,KAAK,qBAG9B,EAAKtM,MAAMkL,MAAMtF,OACX,EAAK5F,MAAMqM,QAAQC,KAAK,wBAGjCZ,MA9BiB,EAiCnBjK,OAAS,WACP,OACE,kBAAC,KAAD,CAAW+M,OAAK,GACd,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKhN,UAAU,eACb,kBAACyM,GAAD,6BAGJ,kBAACM,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKC,GAAG,KACN,yBAAKjN,UAAU,eACb,kBAAC,GAAD,CAAcA,UAAU,OAAOlB,IAAKoO,SAGxC,kBAACF,GAAA,EAAD,CAAKC,GAAG,IAAIjN,UAAU,QACpB,kBAAC+M,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKC,GAAG,MACN,kBAAC,GAAD,CAAYhB,MAAO,GAAnB,iCAGJ,kBAACc,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKC,GAAI,CAAEE,KAAM,GAAIC,OAAQ,IAC3B,kBAAC,GAAD,CAAYnB,MAAO,KAAnB,mBAGJ,kBAACc,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKC,GAAI,CAAEE,KAAM,GAAIC,OAAQ,IAC3B,kBAAC,GAAD,CAAYnB,MAAO,KAAnB,sBAGJ,kBAACc,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKC,GAAI,CAAEE,KAAM,EAAGC,OAAQ,IAC1B,kBAAC,GAAD,CAAYnB,MAAO,KACjB,kBAAC,GAAD,CAAQoB,KAAK,KAAK3J,QAAQ,YAAY1D,UAAU,aAAa2D,QAAS,kBAAM,EAAKkJ,gBAC/E,0BAAM7M,UAAU,QAAhB,eACA,kBAAC,IAAD,CACA4H,MAAO,CAAC0F,SAAU,cAM1B,kBAAChB,GAAD,CAAiBtM,UAAU,wBAAwBlB,IAAKyO,WAzEhEpN,QAAQC,IAAI9B,GAEZ,EAAK2G,MAAQ,CACXuI,WAAW,EACXC,YAAY,EACZC,WAAW,GAGbnL,YAAW,WACT,EAAK0C,MAAMuI,WAAY,IACtB,KACHjL,YAAW,WACT,EAAK0C,MAAMwI,YAAa,IACvB,KACHlL,YAAW,WACT,EAAK0C,MAAMyI,WAAY,IACtB,KAlBc,E,2BADKrN,IAAMC,WAoFjBuK,eAAW+B,I,6OC7FnB,IAAMe,GAAkBnN,IAAOC,IAAV,MAKfmN,GAAapN,IAAOoC,EAAV,M,6TCJhB,IAAMiL,GAAiBrN,YAAOsN,KAAPtN,CAAH,MAMduN,GAAqBvN,YAAOsN,KAASE,KAAhBxN,CAAH,MCLzByN,GAAe5N,IAAM6N,YAAW,WAAwBvG,GAAxB,IAAGyE,EAAH,EAAGA,SAAUzI,EAAb,EAAaA,QAAb,OACpC,uBACEuD,KAAK,GACLS,IAAKA,EACLC,MAAS,CAACuG,MAAO,QACjBC,MAAM,eACNzK,QAAS,SAACP,GACRA,EAAEiL,iBACF1K,EAAQP,KAGTgJ,EACD,0BAAMgC,MAAM,kBAAkBxG,MAAO,CAAE0F,SAAU,SAAjD,cAcejN,IAAM6N,YACvB,WAA+DvG,GAAS,IAArEyE,EAAoE,EAApEA,SAAUxE,EAA0D,EAA1DA,MAAO5H,EAAmD,EAAnDA,UAA8BsO,EAAqB,EAAxC,mBAC7B,OACE,yBACE3G,IAAKA,EACLC,MAAOA,EACP5H,UAAWA,EACXuO,kBAAiBD,GAEjB,wBAAItO,UAAU,uBACXoM,OAqBIoC,OAdf,SAAyBlQ,GACrB,OACE,kBAAC,GAAD,CAAUmQ,YAAU,GAClB,kBAAC,GAASC,OAAV,CAAiBC,GAAIV,GAAc7O,GAAG,iBAAiBsE,QAASpF,EAAMoF,SACnEpF,EAAM8N,UAGT,kBAAC,GAASwC,KAAV,CAAe5O,UAAU,WACtB1B,EAAMuI,MAAMrC,KAAI,SAACL,EAAMO,GAAY,OAjC9C,SAAwBP,EAAMO,GAC5B,OAAGV,OAAOC,KAAKE,GAAMD,OACZ,kBAAC6J,GAAD,CAAoBpK,QAASQ,EAAK0K,QAASvD,IAAK5G,GAAQP,EAAK2K,cAAgB,8CAAyB,KAAtG,IAA6G3K,EAAK4K,MAElH,kBAAC,GAASC,QAAV,CAAkB1D,IAAK5G,IA6BmBuK,CAAe9K,EAAMO,SChDpEwK,G,YACJ,WAAY5Q,GAAQ,IAAD,8BACjB,+CA4CFyB,OAAS,WACP,OACE,kBAAC4N,GAAD,KACE,kBAACC,GAAD,CAAYjK,QAAS,kBAAMnF,OAAO0L,SAAW,sBAA7C,sBACA,kBAAC,GAAD,eAAgBxG,QAAS,WAAe,EAAKyL,yBAC3C,kBAAC,IAAD,CAAanP,UAAU,OAAO4H,MAAO,CAAE0F,SAAU,UADnD,aAjDa,E,qFAKjB,MAAO,CACL5J,QAAS,YACTqL,KAAM,UACNlI,MAAO5G,KAAKmP,iC,oDAIe,IAAD,OACtBlG,EAAcG,KAEdxC,EAAQ5G,KAAK3B,MAAMkL,MAAMhF,KAAI,SAAAsF,GACjC,MAAO,CACL+E,QAAS,WACP5F,GAAea,GACf,EAAKxL,MAAMqM,QAAQC,KAAK,sBAE1BmE,KAAMjF,EAAKxB,QAAQI,aACnBoG,cAAehF,EAAKxB,QAAQlJ,KAAO8J,EAAYZ,QAAQlJ,OAgB3D,OAZIa,KAAK3B,MAAMkL,MAAMtF,QACnB2C,EAAM+D,KAAK,IAGb/D,EAAM+D,KAAK,CACTiE,QAAS,WACP,EAAKvQ,MAAMqM,QAAQC,KAAK,oBAE1BmE,KAAM,oBAIDlI,I,oCAGKiD,Q,GA1CKzJ,IAAMC,WA0DZuK,eAAWqE,I,iBCRXG,G,YA9Cb,aAAe,IAAD,8BACZ,+CAQF5E,YAAc,WACZ,EAAKrE,SAAS,CAAE8C,YAAaG,OAC7B,EAAKjD,SAAS,CAAEoD,MAAOC,OACvB,EAAK6F,eAZO,EAedpP,cAAgB,SAAAd,GACd,EAAKC,OAAOoI,QAAQvH,cAAcd,IAdlC,EAAKC,OAASgB,IAAMyH,YACpB,EAAK7C,MAAQ,CACXiE,YAAaG,KACbG,MAAOC,MALG,E,sEAmBJ,IAAD,OACP,OACE,6BACE,0BAAM8F,aAAW,0BAA0BC,QAAQ,6MAEnD,kBAAC,KAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,qBACZ,kBAAC,GAAWxP,KAAKgF,OACf,kBAAC,EAAqBhF,KAAKgF,MAAMiE,cAEnC,kBAAC,IAAD,CAAOuG,KAAK,mBACZ,kBAAC,GAAWxP,KAAKgF,OACf,kBAAC6F,GAAD,KACE,kBAAC,GAAD,CAAgBL,YAAa,kBAAM,EAAKA,mBAG5C,kBAAC,IAAD,CAAOgF,KAAK,KACV,kBAAC,GAAD,CAAavG,YAAajJ,KAAKgF,MAAMiE,YAAaM,MAAOvJ,KAAKgF,MAAMuE,gB,GAtChEnJ,IAAMC,WCLxBoP,IAAS3P,OAAO,kBAAC,GAAD,MAASnB,SAAS+Q,eAAe,W","file":"static/js/main.ae29d8e9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/SpotifyOnPhoneSignal.347114d2.png\";","module.exports = __webpack_public_path__ + \"static/media/LogoOnScreen.52bf02e0.png\";","import React from 'react';\n\nclass YoutubePlayer extends React.Component {\n  constructor(props){\n    super()\n  }\n\n  componentDidMount = () => {\n    // On mount, check to see if the API script is already loaded\n\n    if (!window.YT) { // If not, load the script asynchronously\n      const tag = document.createElement('script');\n      tag.src = 'https://www.youtube.com/iframe_api';\n\n      // onYouTubeIframeAPIReady will load the video after the script is loaded\n      window.onYouTubeIframeAPIReady = this.loadVideo;\n\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n    } else { // If script is already there, load the video directly\n      this.loadVideo();\n    }\n  };\n\n  loadVideo = () => {\n    const { id } = this.props;\n\n    // the Player object is created uniquely based on the id in props\n    this.player = new window.YT.Player(`youtube-player-${id}`, {\n      videoId: id,\n      events: {\n        onReady: this.onPlayerReady,\n        onStateChange: this.onPlayerStateChange\n      },\n    });\n  };\n\n  onPlayerStateChange = (event) => {\n    this.props.onPlayerStateChange(event);\n  }\n\n\n  onPlayerReady = event => {\n    this.player = event.target;\n  };\n\n  loadVideoById(id){\n    this.player.loadVideoById(id, 0);\n  }\n\n  isPlayerReady(){\n    console.log(this.player.loadVideoById)\n    return (!!this.player.loadVideoById);\n  }\n\n  render = () => {\n    const { id } = this.props;\n    return (\n      <div className={this.props.className}>\n        <div id={`youtube-player-${id}`} />\n      </div>\n    );\n  };\n}\n\nexport default YoutubePlayer;\n","import styled from 'styled-components'\nimport YoutubePlayer from '../YoutubePlayer'\n\nexport const Container = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n\nexport const StyledYoutubePlayer = styled(YoutubePlayer)`\n    margin: auto;\n`","export default function request(theUrl, method, accessToken, params = null){\n    return new Promise((resolve, reject) => {\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.onreadystatechange = function() {     \n            if (xmlHttp.readyState === 4 && (xmlHttp.status === 200)){\n                resolve(JSON.parse(xmlHttp.responseText));\n            }\n            if (xmlHttp.readyState === 4 && (xmlHttp.status === 204)){\n                resolve();\n            }\n            if (xmlHttp.readyState === 4){\n                reject(xmlHttp)\n            }\n        }\n\n        xmlHttp.open(method, theUrl, true); // true for asynchronous \n        if (accessToken){\n            xmlHttp.setRequestHeader('Authorization', 'Bearer ' + accessToken)\n        }\n        if (params){\n            xmlHttp.setRequestHeader('Content-Type', 'application/json');\n        }\n        xmlHttp.send(JSON.stringify(params));\n    })\n\n    //webby sux\n}\n","import request from \"./request\"\n\n\nexport default class SpotifyApi {\n    constructor(accessToken, refreshToken){\n        this.accessToken = accessToken;\n        this.refreshToken = refreshToken;\n    }\n\n    async _makeRequest(url, method, accessToken){\n        try{\n            return await request(url, method, accessToken);\n        }\n        catch (e) {\n            if (e.status === 401){\n                this.accessToken = (await this.getNewAccessToken(this.refreshToken)).access_token;\n                return request(url, method, this.accessToken);\n            }\n\n            throw e\n        }\n    }\n\n    get(url){\n        return this._makeRequest(url, 'GET', this.accessToken);\n    }\n\n    getCurrentlyPlaying(){\n        return this._makeRequest('https://api.spotify.com/v1/me/player/currently-playing', 'GET', this.accessToken);\n    }\n\n    pause(){\n        return this._makeRequest('https://api.spotify.com/v1/me/player/pause', 'PUT', this.accessToken)\n    }\n\n    skip(){\n        return this._makeRequest('https://api.spotify.com/v1/me/player/next', 'POST', this.accessToken);\n    }\n\n    \n    prev(){\n        return this._makeRequest('https://api.spotify.com/v1/me/player/previous', 'POST', this.accessToken);\n    }\n\n    seek(ms){\n        return this._makeRequest(`https://api.spotify.com/v1/me/player/seek?position_ms=${ms}`, 'PUT', this.accessToken);\n    }\n\n    play(){\n        return this._makeRequest('https://api.spotify.com/v1/me/player/play', 'PUT', this.accessToken);\n    }\n\n    getProfile(){\n        return this._makeRequest('https://api.spotify.com/v1/me', 'GET', this.accessToken)\n    }\n\n    getTopTracks(){\n        return this._makeRequest('https://api.spotify.com/v1/me/top/tracks?limit=50', 'GET', this.accessToken)\n    }\n\n    getNewAccessToken(refreshToken){\n        return request(`https://youtubemyspotify.uk/refresh_token?refresh_token=${this.refreshToken}`, 'GET');\n    }\n}","export const timeout = (ms) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {resolve()}, ms)\n  })\n}","import styled from 'styled-components'\nimport Button from 'react-bootstrap/Button'\n\nexport const RoundedButton = styled(Button)`\n    border-radius: 100px;\n    line-height: 0;\n    padding: 10px;\n    margin: 10px;\n`\n\nexport const ControlPanelContainer = styled.div`\n    display: block;\n    text-align: center;\n    margin: 10px;\n`\n\nexport const Info = styled.p`\n    display: inline;\n    margin: 5px;\n    color: grey;\n`\n\nexport const MarqueeContainer = styled.div`\n    display: inline-block;\n    width: 200px;\n    overflow: hidden;\n    white-space: nowrap;\n`\n\n","import React from \"react\";\nimport { RoundedButton, ControlPanelContainer, Info, MarqueeContainer } from './styled'\nimport { IoMdPlay, IoMdPause, IoIosSkipForward, IoIosSkipBackward } from 'react-icons/io';\nimport Marquee from \"react-smooth-marquee\"\n\nclass SpotifyControlPanel extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  onPlay(){\n    this.props.spotifyApi.play().catch(e => {console.log(e)});\n  }\n\n  onSkip(){\n    if(this.props.playingContext === 'Your Top 50 Tracks'){\n      this.props.playNextFromTop50();\n      return;\n    }\n\n    this.props.spotifyApi.skip().catch(e => {console.log(e)});\n  }\n\n  onPrev(){\n    this.props.spotifyApi.prev().catch(e => {console.log(e)});\n  }\n\n  renderControlPanel() {\n    const { currentlyPlaying } = this.props\n\n    //TODO: The play button should say if the video is playing not spotify\n    return (\n      <div>\n        <RoundedButton variant='secondary' onClick={() => this.onPrev()}><IoIosSkipBackward /></RoundedButton>\n    <RoundedButton variant='secondary' onClick={() => this.onPlay()}>{currentlyPlaying.is_playing ? <IoMdPause /> : <IoMdPlay />}</RoundedButton>\n        <RoundedButton variant='secondary' onClick={() => this.onSkip()}><IoIosSkipForward /></RoundedButton>\n      </div>\n    )\n  }\n\n  renderInfoPanel() {\n    const { currentlyPlaying } = this.props\n\n    if (!Object.keys(currentlyPlaying).length) {\n      return <div>Nothing is currently playing</div>\n    }\n\n    return( \n      <div>\n        <div><Info>{currentlyPlaying.item.name}</Info> | <Info>{currentlyPlaying.item.album.name}</Info></div>\n        <MarqueeContainer>\n          <Marquee velocity={0.025}>{currentlyPlaying.item.artists.map((artist, index, array) => artist.name + (index === array.length-1 ? '' : ', '))}</Marquee>\n        </MarqueeContainer>\n      </div>\n    )\n  }\n\n  render = () => {\n    return (\n      <ControlPanelContainer>\n        <div className={this.props.className}>\n          {this.renderInfoPanel()}\n          {this.renderControlPanel()}\n        </div>\n      </ControlPanelContainer>\n    );\n  };\n}\n\nexport default SpotifyControlPanel;\n","import React from \"react\";\nimport SpotifyApi from '../../../api/spotifyApi'\nimport request from '../../../api/request'\nimport { timeout } from '../helpers'\nimport SpotifyControlPanel from './SpotifyControlPanel'\n\nconst UPDATE_CURRENTLY_PLAYING_INTERVAL_MS = 1500;\nconst END_OF_SONG_BUFFER_MS = 15000\n\n\nclass SpotifyPlayer extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      spotifyPlayer: {\n        currentlyPlaying: {\n          \n        }\n      },\n      lastSong: '',\n      topTracks: [],\n      playingContext: '',\n    }\n\n    this.youtubePlayerState = -1;\n    this.mounted = false;\n\n    const { accessToken, refreshToken } = props\n    this.spotifyApi = new SpotifyApi(accessToken, refreshToken)\n  }\n\n  async componentDidMount() {\n    await this.getTopTracks();\n    this.mounted = true;\n\n    this.update();\n  }\n\n\n  componentWillUnmount(){\n    this.mounted = false;\n    console.log('unmounting')\n  }\n\n\n  update = async () => {\n    while(this.mounted){\n      try{\n        await this.getCurrentlyPlaying();\n        \n        const { spotifyPlayer: { currentlyPlaying }} = this.state;\n  \n        if(Object.keys(currentlyPlaying).length !== 0){\n          await this.updateYoutubePlayer(currentlyPlaying)\n          await this.pauseSpotifyIfNearEnd(currentlyPlaying)\n        }\n        \n    \n        await this.skipWhenVideoEnds();\n    \n      }\n      catch (e) { console.log('e', e) }\n  \n      await timeout(UPDATE_CURRENTLY_PLAYING_INTERVAL_MS);\n    }\n  }\n\n  async getTopTracks(){\n    const topTracks = (await this.spotifyApi.getTopTracks()).items\n    \n    this.setState({\n      storedTopTracks: topTracks,\n      topTracks: topTracks \n    })\n  }\n\n  skipWhenVideoEnds = async () => {\n    if(this.youtubePlayerState === 0){\n      await this.spotifyApi.skip();\n    }\n  }\n\n  updateYoutubePlayerState = (event) => {\n    this.youtubePlayerState = event.data;\n  }\n\n  pauseSpotifyIfNearEnd = async (currentlyPlaying) => {\n    const { is_playing, progress_ms, item } = currentlyPlaying\n\n    if (!is_playing) {\n      return;\n    }\n\n    if (item.duration_ms - progress_ms < END_OF_SONG_BUFFER_MS) {\n        this.spotifyApi.seek(progress_ms - 15000);\n    }\n  }\n\n  updateYoutubePlayer = async (currentlyPlaying) => {\n    if (this.isCurrentlyPlayingNew(currentlyPlaying)){\n      const youtubeVideoId = await this.getVideoIdFromCurrentlyPlaying(currentlyPlaying);\n      this.props.updateYoutubePlayer(youtubeVideoId)\n      await this.waitForPlayerToPlay();\n    }\n  }\n\n  waitForPlayerToPlay = async () => {\n    if(this.youtubePlayerState !== 1){\n      await timeout(50);\n      await this.waitForPlayerToPlay();\n    }\n  }\n\n  getVideoIdFromCurrentlyPlaying = async (currentlyPlaying) => {\n    const songName = currentlyPlaying.item.name;\n    const artistName = currentlyPlaying.item.artists[0].name;\n\n    return await request('https://youtubemyspotify.uk/getVideoId', 'POST', '', {songName, artistName})\n  }\n\n  isCurrentlyPlayingNew = (currentlyPlaying) => {\n    const { lastSongId } = this.state;\n    const { item: { id: currentlyPlayingId }} = currentlyPlaying;\n\n    if (lastSongId !== currentlyPlayingId) {\n        this.setState({lastSongId: currentlyPlayingId})\n        return true;\n    }\n\n    return false;\n  }\n\n  async getNextTopTrack(){\n    if (!this.state.topTracks){\n      return;\n    }\n\n    let [nextTopTrack, ...restTopTracks] = this.state.topTracks;\n    if(!restTopTracks.length){\n      restTopTracks = this.state.storedTopTracks; //start again\n    }\n    \n    this.setState({topTracks: restTopTracks})\n    return nextTopTrack;\n  }\n\n  updatePlayingContext = (context) => {\n    this.props.onPlayingContextChange(context)\n    this.setState({playingContext: context})\n  }\n\n  async getPlayingContextFromCurrentlyPlaying(currentlyPlaying){\n    const context = currentlyPlaying.context\n      ? (await this.spotifyApi.get(currentlyPlaying.context.href)).name\n      : 'Search Results'\n\n    this.updatePlayingContext(context);\n  }\n\n  playNextFromTop50 = async () => {\n    const { spotifyPlayer } = this.state;  \n    spotifyPlayer.currentlyPlaying.item = await this.getNextTopTrack();\n    this.setState({\n      spotifyPlayer\n    })\n    this.updatePlayingContext('Your Top 50 Tracks');\n  }\n\n  getCurrentlyPlaying = async () => {\n    const { spotifyPlayer } = this.state;  \n    let currentlyPlaying = (await this.spotifyApi.getCurrentlyPlaying()) || {};\n    \n    if (!Object.keys(currentlyPlaying).length){\n      if(this.youtubePlayerState === 0 || this.youtubePlayerState === -1){\n        this.playNextFromTop50();\n      }\n    }\n    else{\n      spotifyPlayer.currentlyPlaying = currentlyPlaying;\n      this.setState({\n        spotifyPlayer\n      })\n      await this.getPlayingContextFromCurrentlyPlaying(currentlyPlaying);\n    }\n  }\n\n  render = () => {\n    return (\n      <div>\n        <SpotifyControlPanel {...this.state.spotifyPlayer} spotifyApi={this.spotifyApi} playingContext={this.state.playingContext} playNextFromTop50={this.playNextFromTop50}></SpotifyControlPanel>\n      </div>\n    );\n  };\n}\n\nexport default SpotifyPlayer;\n","import styled from 'styled-components'\n\nexport const Text = styled.p`\n    text-align: center;\n    margin-top: 10px;\n`\n","import React from \"react\";\nimport { Text } from './styled'\n\nclass PlayingContext extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      playingContext: ''\n    }\n  }\n\n  updatePlayingContext(context){\n    this.setState({playingContext: context})\n  }\n\n  render = () => {\n    return (\n      <Text>Playing from: {this.state.playingContext}</Text>\n    );\n  };\n}\n\nexport default PlayingContext;\n","import React from \"react\";\n\nclass SpotifyPlaylists extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  render = () => {\n    const { className } = this.props;\n    console.log(className)\n    \n    return (\n      <div className={className}>\n      </div>\n    );\n  };\n}\n\nexport default SpotifyPlaylists;\n","import styled from 'styled-components'\nimport Playlist from '../Playlist'\n\nexport const Container = styled.div`\n    display: flex;\n`\n\nexport const StyledPlaylist = styled(Playlist)`\n    && {\n        flex-grow: 1;\n        color: red;\n    }\n`","import React from \"react\";\nimport { Container, StyledPlaylist as Playlist } from './styled'\n\nclass SpotifyPlaylists extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  render = () => {\n    return (\n      <Container>\n        <Playlist className='hello'/>\n        <Playlist className='hello'/>\n        <Playlist className='hello'/>\n      </Container>\n    );\n  };\n}\n\nexport default SpotifyPlaylists;\n","import React from \"react\";\nimport { StyledYoutubePlayer as YoutubePlayer } from './styled'\nimport SpotifyPlayer from './SpotifyPlayer'\nimport PlayingContext from './PlayingContext'\nimport { timeout } from './helpers'\nimport SpotifyPlaylists from './SpotifyPlaylists'\nimport { Container } from './styled'\n\nclass YoutubeMySpotify extends React.Component {\n  constructor(props) {\n    super();\n    this.YoutubePlayer = React.createRef();\n    this.SpotifyPlayer = React.createRef();\n    this.PlayingContext = React.createRef();\n  }\n\n  updateYoutubePlayer = async (id) => {\n    try{\n      this.YoutubePlayer.current.loadVideoById(id);\n    }\n    catch(e){\n      await timeout(10);\n      this.updateYoutubePlayer(id);\n    }\n  }\n\n  onYoutubePlayerStateChange = (event) => {\n    this.SpotifyPlayer.current.updateYoutubePlayerState(event);\n  }\n\n  onPlayingContextChange = (context) => {\n    this.PlayingContext.current.updatePlayingContext(context);\n  }\n\n  render = () => {\n    return (\n      <Container>\n        <PlayingContext ref={this.PlayingContext}></PlayingContext>\n        <YoutubePlayer className='someclassname' ref={this.YoutubePlayer} onPlayerStateChange={this.onYoutubePlayerStateChange} id=\"\" />\n        {/* <YoutubePlayer ref={this.player} id=\"iAtomM7ybOM\" /> */}\n        <SpotifyPlayer {...this.props} ref={this.SpotifyPlayer} updateYoutubePlayer={this.updateYoutubePlayer} onPlayingContextChange={this.onPlayingContextChange}></SpotifyPlayer>\n        {/* <SpotifyPlayer {...this.props}></SpotifyPlayer> */}\n        <hr style={{width: '95%'}}/>\n        <SpotifyPlaylists />\n      </Container>\n    );\n  };\n}\n\nexport default YoutubeMySpotify;\n","import styled from 'styled-components'\nimport Image from \"react-bootstrap/Image\";\n\nexport const AccountSummaryContainer = styled.div`\n    text-align: center\n`\n\nexport const StyledImage = styled(Image)`\n    height: 200px;\n    width: 200px;\n`\n\nexport const Name = styled.h2`\n    margin: 10px;\n`\n\nexport const Info = styled.p`\n    display: inline;\n    margin: 5px;\n    color: grey;\n`\n\nexport const InfoContainer = styled.p`\n    color: grey;\n`\n","import React from \"react\";\nimport { AccountSummaryContainer, StyledImage as Image, Name, Info, InfoContainer } from \"./styled\"\nimport request from \"../../../api/request\";\n\nclass AccountSummary extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  render = () => {\n    const { profile } = this.props\n\n    return (\n      <AccountSummaryContainer>\n         <iframe style={{display: 'none'}} src=\"https://spotify.com/logout\"></iframe> \n\n        <Image src={profile.images.length ? profile.images[0].url : 'https://pmcdeadline2.files.wordpress.com/2019/10/shutterstock_editorial_10434333bm.jpg?crop=0px%2C0px%2C2903px%2C1627px&resize=681%2C383'} roundedCircle />\n        <Name>{profile.display_name}</Name>\n        <InfoContainer>\n          <Info>{profile.followers.total} followers</Info> | <Info>{profile.product === 'premium' ? 'Premium' : 'Free Account'}</Info>\n        </InfoContainer>\n      </AccountSummaryContainer>\n    );\n  };\n}\n\nexport default AccountSummary;\n","import styled from 'styled-components'\nimport Image from \"react-bootstrap/Image\";\n\nexport const StoredUserContainer = styled.div`\n    border: 2px solid #888; \n    max-width: 350px;\n    overflow: auto;\n    text-align: left;\n    margin: auto;\n    border-radius: 5px;\n\n    &:hover {\n        box-shadow: 2px 2px #555;\n    }\n`\n\nexport const ProfilePicture = styled(Image)`\n    display: inline-block;\n    height: 60px;\n    width: 60px;\n    margin: 10px 15px;\n    float: left;\n`\n\nexport const Name = styled.p`\n    display: inline-block;\n    margin: 23px 0px;\n\n`\n\nexport const DeleteAccount = styled.div`\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    float: right;\n\n    &:hover {\n        color: red; // <Thing> when hovered\n    }\n`\n","import { SERVER_URL } from '../../constants';\n\nexport const setCurrentUser = (currentUser) => {\n    window.localStorage.setItem('currentUser', JSON.stringify(currentUser));\n}\n\nexport const loadCurrentUser = () => {\n    return JSON.parse(window.localStorage.getItem(\"currentUser\"));\n}\n\nexport const deleteCurrentUser = () => {\n    window.localStorage.removeItem('currentUser');\n}\n\nexport const setUsers = (users) => {\n    window.localStorage.setItem('users', JSON.stringify(users));\n}\n\nexport const loadUsers = () => {\n    return JSON.parse(window.localStorage.getItem('users')) || [];\n}\n\nexport const deleteUser = (userToDelete) => {\n    const users = loadUsers();\n    const currentUser = loadCurrentUser();\n\n    const newUsers = users.filter(user => user.profile.id !== userToDelete.profile.id)\n    setUsers(newUsers);\n\n    if(currentUser.profile.id === userToDelete.profile.id){\n        deleteCurrentUser();\n    }  \n}\n\nexport const addNewAccountRedirect = () => {\n    const clientUrl = window.location.href.includes('localhost')\n      ? 'http://localhost:3001/%23/AccountManager'\n      : 'https://thewebby.github.io/YoutubeMySpotify/%23/AccountManager'\n    window.location.href = `${SERVER_URL}login?clientUrl=${clientUrl}`;\n}","export const SERVER_URL = 'http://ec2-52-56-132-53.eu-west-2.compute.amazonaws.com:3000/';","import React from \"react\";\nimport { StoredUserContainer, ProfilePicture, Name, DeleteAccount } from './styled'\nimport { setCurrentUser, deleteUser } from '../helpers'\nimport { withRouter } from 'react-router-dom'\n\n\nclass StoredUser extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  preventBubble = (e = window.event) => {\n    e.cancelBubble = true;\n    if (e.stopPropagation) e.stopPropagation();\n  }\n\n  deleteAccountHandler = (e) => {\n    this.preventBubble(e)\n    deleteUser(this.props.user)\n    this.props.updateUsers();\n  }\n\n  useAccountHandler = (e) => {\n    setCurrentUser(this.props.user)\n    this.props.history.push(\"/YoutubeMySpotify\");\n  }\n\n  render = () => {\n    const { profile } = this.props.user;\n\n    return (\n      <StoredUserContainer onClick={this.useAccountHandler}>\n        <ProfilePicture src={profile.images.length ? profile.images[0].url : 'https://pmcdeadline2.files.wordpress.com/2019/10/shutterstock_editorial_10434333bm.jpg?crop=0px%2C0px%2C2903px%2C1627px&resize=681%2C383'} roundedCircle />\n        <Name>{profile.display_name}</Name>\n        <DeleteAccount onClick={this.deleteAccountHandler}>x</DeleteAccount>\n      </StoredUserContainer>\n    );\n  };\n}\n\nexport default withRouter(StoredUser);\n","import styled from 'styled-components'\nimport Button from 'react-bootstrap/Button'\n\nexport const AccountManagerContainer = styled.div`\n    margin: 80px;\n    text-align: center\n`\n\nexport const StyledButton = styled(Button)`\n    margin: 15px 5px;\n`\n\nexport const FacebookNotice = styled.p`\n    position: absolute;\n    bottom: 10px;\n    color: #DDD;\n    margin: 5px;\n    left: 0;\n    right: 0;\n`\n","import React from \"react\";\nimport queryString from 'query-string';\nimport { withRouter } from 'react-router-dom'\nimport SpotifyApi from '../../api/spotifyApi'\nimport AccountSummary from \"./AccountSummary\"\nimport StoredUser from \"./StoredUser\"\nimport { StyledButton as Button, FacebookNotice } from \"./styled\"\nimport { setCurrentUser, loadUsers, setUsers, addNewAccountRedirect } from './helpers'\n\nclass AccountManager extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      currentUser: this.getCurrentUserFromLocation(props.location),\n      users: this.getStoredUsers()\n    }\n\n    this.spotifyApi = new SpotifyApi(this.state.currentUser.accessToken, this.state.currentUser.refresh_token)\n  }\n\n  updateUsers = () => {\n    this.setState({ users: loadUsers() })\n    this.props.updateUsers();\n  }\n\n  getStoredUsers() {\n    const users = loadUsers();\n    return users;\n  }\n\n  getCurrentUserFromLocation(location) {\n    const params = queryString.parse(location.search);\n    const { access_token, refresh_token } = params\n    return {\n      accessToken: access_token,\n      refreshToken: refresh_token\n    }\n  }\n\n  async getUserProfile() {\n    if (!this.spotifyApi.accessToken) {\n      return\n    }\n\n    const userProfile = await this.spotifyApi.getProfile();\n\n    const { currentUser } = this.state;\n    currentUser.profile = userProfile\n\n    this.setState({ currentUser });\n  }\n\n  async componentDidMount() {\n    this.getUserProfile()\n  }\n\n\n  storeCurrentUser = (stayLoggedIn) => {\n    const { currentUser, users } = this.state;\n\n    if (stayLoggedIn) {\n      const newUserId = currentUser.profile.id\n\n      if (!users.some(user => user.profile.id === newUserId)) {\n        users.push(currentUser);\n        this.setState({ users })\n      }\n    }\n\n    setCurrentUser(currentUser);\n    setUsers(users)\n\n    // this.spotifyLogout();\n\n    this.props.updateUsers()\n    this.props.history.push(\"/YoutubeMySpotify\");\n  }\n\n  render = () => {\n    const { currentUser, users } = this.state;\n\n    if (currentUser.refreshToken && currentUser.profile) {\n      return (\n        <div>\n          <p>Would you like to stay logged in?</p>\n          <br />\n          <AccountSummary {...currentUser} />\n          <Button variant=\"secondary\" onClick={() => this.storeCurrentUser(false)}>No Thanks</Button>\n          <Button onClick={() => this.storeCurrentUser(true)}>Yes Please!</Button>\n\n          <FacebookNotice>If you wish to sign in using a different facebook account, you must first <a target=\"_blank\" href=\"https://www.facebook.com\">log out</a> of your current facebook account.</FacebookNotice>\n        </div>\n      )\n    }\n    else {\n      return (\n        <div>\n\n          <p>{users.length ? 'Your saved accounts...' : 'No Accounts'}</p>\n          {users.map((user, index) => <StoredUser user={user} updateUsers={this.updateUsers} key={index} />)}\n          <br />\n          <Button onClick={() => addNewAccountRedirect()}>Add a new Account</Button>\n\n        </div>\n      )\n    }\n  };\n}\n\nexport default withRouter(AccountManager);\n","import styled, { keyframes } from 'styled-components'\n\nconst fadeIn = keyframes`\n  from {\n      opacity: 0;      \n  }\n\n  to {\n      opacity: 1;\n  }\n`\n\nexport const Text = styled.p`\n  margin: 20px;\n  font-size: 30px;\n  opacity: 0;\n\n  animation: ${fadeIn} 1s linear;\n   animation-delay: ${props => props.delay === 0 ? '0ms' : props.delay.toString() + 'ms'};\n//animation-delay: 10000ms;\n  transition: visibility 1s linear;\n  animation-fill-mode: forwards;\n`","import React from \"react\";\nimport { Text, TextContainer } from './styled/index'\nimport { Fade } from \"react-bootstrap\";\n\nclass FadeInText extends React.Component {\n    constructor(props) {\n        super();\n        console.log(props)\n    }\n\n    render = () => {\n        return (\n            <Text delay={this.props.delay}>\n                    {this.props.children}\n            </Text>\n        );\n    };\n}\n\nFadeInText.defaultProps = {\n    delay: 0\n}\n\nexport default FadeInText;\n\n// class FadeInTextInner extends React.Component {\n//     constructor(props) {\n//         super();\n//         console.log(props)\n//     }\n    \n//     componentDidUpdate(props){\n//         if(this.props.isVisible !== props.isVisible)\n//         {\n//             console.log('updating')\n//             this.forceUpdate();\n//         }\n//     }\n\n//     render = () => {\n//         return (\n//             <Text>\n//                 {this.props.children}\n//             </Text>\n//         );\n//     };\n// }\n","import styled from 'styled-components'\nimport { default as BootstapButton } from 'react-bootstrap/Button'\n\nexport const PhoneWithSignal = styled.img`\n  position: fixed;\n  bottom: -5%;\n  right: -2%;\n  max-height: 35%;\n  max-width: 21%;\n  transform: rotateY(180deg)\n`\n\n\nexport const LogoOnScreen = styled.img`\n  //max-height: 600px; \n//  margin: 50px 0;\n  //max-width: 40%;\n`\n\nexport const Container = styled.div`\n  text-align: center;\n`\n\nexport const Heading = styled.h1`\n  margin-top: 3%;\n  margin-bottom: 3%;\n  font-size: 80px  \n`\n\nexport const Button = styled(BootstapButton)`\n  margin: 5px;\n`","import React from \"react\";\nimport { withRouter } from 'react-router-dom'\nimport phoneWithSignal from '../../images/SpotifyOnPhoneSignal.png'\nimport logoOnScreen from '../../images/LogoOnScreen.png'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport FadeInText from './FadeInText/index'\nimport {IoIosLogIn} from 'react-icons/io'\nimport { PhoneWithSignal, LogoOnScreen, Heading,  Button } from './styled'\nimport { addNewAccountRedirect } from \"../AccountManager/helpers\";\n\n\nclass WelcomePage extends React.Component {\n  constructor(props) {\n    super();\n    console.log(props)\n\n    this.state = {\n      showFirst: false,\n      showSecond: false,\n      showThird: false\n    }\n\n    setTimeout(() => {\n      this.state.showFirst = true;\n    }, 300);\n    setTimeout(() => {\n      this.state.showSecond = true;\n    }, 600);\n    setTimeout(() => {\n      this.state.showThird = true;\n    }, 900);\n  }\n\n  onClickHere = () => {\n    if (this.props.currentUser) {\n      return this.props.history.push(\"/YoutubeMySpotify\");\n    }\n    \n    if(this.props.users.length){\n      return this.props.history.push(\"/AccountManager\");\n    }\n\n    addNewAccountRedirect();\n  }\n\n  render = () => {\n    return (\n      <Container fluid>\n        <Row>\n          <Col className=\"text-center\">\n            <Heading>Youtube My Spotify</Heading>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"6\">\n            <div className=\"text-center\">\n              <LogoOnScreen className=\"w-75\" src={logoOnScreen}></LogoOnScreen>\n            </div>\n          </Col>\n          <Col md=\"6\" className=\"mt-4\">\n            <Row>\n              <Col md=\"12\">\n                <FadeInText delay={0}>Open Spotify on your phone.</FadeInText>\n              </Col>\n            </Row>\n            <Row>\n              <Col md={{ span: 11, offset: 1 }}>\n                <FadeInText delay={1000}>Put music on.</FadeInText>\n              </Col>\n            </Row>\n            <Row>\n              <Col md={{ span: 10, offset: 2 }}>\n                <FadeInText delay={2000}>Mute your phone.</FadeInText>\n              </Col>\n            </Row>\n            <Row>\n              <Col md={{ span: 9, offset: 3 }}>\n                <FadeInText delay={3000}>\n                  <Button size=\"lg\" variant=\"secondary\" className=\"ml-5 font-\" onClick={() => this.onClickHere()}>\n                    <span className=\"mr-2\">Get Started</span>\n                    <IoIosLogIn \n                    style={{fontSize: '35px'}}\n                    ></IoIosLogIn>\n                </Button>\n                </FadeInText>\n              </Col>\n            </Row>\n            <PhoneWithSignal className=\"d-flex align-self-end\" src={phoneWithSignal}></PhoneWithSignal>\n          </Col>\n        </Row>\n      </Container>\n    );\n  };\n}\n\nexport default withRouter(WelcomePage);\n","import styled from 'styled-components'\n\nexport const HeaderContainer = styled.div`\n    padding: 9px;\n    background-color: black;\n`\n\nexport const HeaderText = styled.p`\n    margin: 0;\n    display: inline;    \n`\n","import styled from 'styled-components'\nimport Dropdown from \"react-bootstrap/Dropdown\";\n\nexport const StyledDropdown = styled(Dropdown)`\n    display: inline;    \n    float: right;\n    margin: -8px;\n`\n\nexport const StyledDropDownItem = styled(Dropdown.Item)`\n    color: #ccc;\n    &&:hover{\n        background-color: #4b545e;\n        color: #ccc;\n    }\n`","import React from \"react\";\nimport { StyledDropdown as Dropdown, StyledDropDownItem } from \"./styled\";\n\n\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n  <a\n    href=\"\"\n    ref={ref}\n    style = {{color: '#ccc'}}\n    class=\"btn btn-link\"\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  >\n    {children}\n    <span class=\"ml-1 text-muted\" style={{ fontSize: '10px' }}>\n      &#x25bc;\n    </span>\n  </a>\n));\n\nfunction renderMenuItem(item, index){\n  if(Object.keys(item).length){\n    return <StyledDropDownItem onClick={item.onclick} key={index}>{item.isCurrentUser ? <span>&#127925;</span> : null} {item.text}</StyledDropDownItem>\n  } else{\n    return <Dropdown.Divider key={index} />\n  }\n}\n\nconst CustomMenu = React.forwardRef(\n  ({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {    \n    return (\n      <div\n        ref={ref}\n        style={style}\n        className={className}\n        aria-labelledby={labeledBy}\n      >\n        <ul className=\"list-unstyled mb-0 \">\n          {children}\n        </ul>\n      </div>\n    );\n  },\n);\n\nfunction DropdownButton (props){\n    return (\n      <Dropdown alignRight>\n        <Dropdown.Toggle as={CustomToggle} id=\"dropdown-basic\" variant={props.variant}>\n          {props.children}\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu className='bg-dark'>\n          {props.items.map((item, index) => { return renderMenuItem(item, index) })}\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n}\n\nexport default DropdownButton;\n","import React from \"react\";\nimport { HeaderContainer, HeaderText } from \"./styled\";\nimport DropdownButton from \"./DropdownButton\"\nimport { withRouter } from 'react-router-dom'\nimport { IoIosPerson } from 'react-icons/io'\nimport { setCurrentUser, loadCurrentUser } from '../AccountManager/helpers'\n\nclass Header extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  generateDropDownProps() {\n    return {\n      variant: 'secondary',\n      text: 'Account',\n      items: this.generateItemsArrayFromUsers()\n    }\n  }\n\n  generateItemsArrayFromUsers() {\n    const currentUser = loadCurrentUser();\n\n    const items = this.props.users.map(user => {\n      return {\n        onclick: () => {\n          setCurrentUser(user);\n          this.props.history.push(\"/YoutubeMySpotify\");\n        },\n        text: user.profile.display_name,\n        isCurrentUser: user.profile.id === currentUser.profile.id,\n      }\n    })\n\n    if (this.props.users.length) {\n      items.push({}) //divider\n    }\n\n    items.push({\n      onclick: () => {\n        this.props.history.push(\"/AccountManager\");\n      },\n      text: 'Account Manager'\n    }\n    )\n\n    return items;\n  }\n\n  isCurrentUser(user){\n\n  }\n\n  render = () => {\n    return (\n      <HeaderContainer>\n        <HeaderText onClick={() => window.location = '/YoutubeMySpotify'}>Youtube My Spotify</HeaderText>\n        <DropdownButton variant={'primary'} {...this.generateDropDownProps()}>\n          <IoIosPerson className=\"mr-1\" style={{ fontSize: '20px' }}></IoIosPerson>Account\n        </DropdownButton>\n      </HeaderContainer>\n    );\n  };\n}\n\nexport default withRouter(Header);\n","import React from \"react\";\nimport YoutubeMySpotify from \"./components/YoutubeMySpotify\";\nimport AccountManager from \"./components/AccountManager\";\nimport WelcomePage from \"./components/WelcomePage\"\nimport Header from \"./components/Header/index.js\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { AccountManagerContainer } from \"./components/AccountManager/styled\";\nimport { loadCurrentUser, loadUsers } from \"./components/AccountManager/helpers\"\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.player = React.createRef();\n    this.state = {\n      currentUser: loadCurrentUser(),\n      users: loadUsers()\n    };\n  }\n\n  updateUsers = () => {\n    this.setState({ currentUser: loadCurrentUser() });\n    this.setState({ users: loadUsers() });\n    this.forceUpdate();\n  };\n\n  loadVideoById = id => {\n    this.player.current.loadVideoById(id);\n  };\n\n  render() {\n    return (\n      <div>\n        <meta http-equiv=\"Content-Security-Policy\" content=\"default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';\" />\n        {/* https://www.youtube.com/watch?v=1wDzEjXbblM */}\n        <Router>\n          <Switch>\n            <Route path=\"/YoutubeMySpotify\">\n            <Header {...this.state}></Header>\n              <YoutubeMySpotify {...this.state.currentUser} />\n            </Route>\n            <Route path=\"/AccountManager\">\n            <Header {...this.state}></Header>\n              <AccountManagerContainer>\n                <AccountManager updateUsers={() => this.updateUsers()} />\n              </AccountManagerContainer>\n            </Route>\n            <Route path=\"/\">\n              <WelcomePage currentUser={this.state.currentUser} users={this.state.users} />\n            </Route>\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}