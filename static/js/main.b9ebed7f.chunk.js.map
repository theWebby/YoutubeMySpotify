{"version":3,"sources":["components/YoutubeMySpotify/YoutubePlayer/index.js","api/request.js","api/spotifyApi.js","components/YoutubeMySpotify/helpers.js","components/YoutubeMySpotify/SpotifyPlayer/index.js","components/YoutubeMySpotify/SpotifyPlaylists/Playlist/index.js","components/YoutubeMySpotify/SpotifyPlaylists/styled/index.js","components/YoutubeMySpotify/SpotifyPlaylists/index.js","components/YoutubeMySpotify/styled/index.js","components/YoutubeMySpotify/index.js","components/AccountManager/AccountSummary/styled/index.js","components/AccountManager/AccountSummary/index.js","components/AccountManager/StoredUser/styled/index.js","components/AccountManager/helpers.js","components/AccountManager/StoredUser/index.js","components/AccountManager/styled/index.js","components/AccountManager/index.js","constants.js","components/Header/styled/index.js","components/Header/DropdownButton/styled/index.js","components/Header/DropdownButton/index.js","components/Header/index.js","App.js","index.js"],"names":["YoutubePlayer","props","componentDidMount","window","YT","loadVideo","tag","document","createElement","src","onYouTubeIframeAPIReady","firstScriptTag","getElementsByTagName","parentNode","insertBefore","id","player","Player","videoId","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","event","target","render","this","loadVideoById","console","log","React","Component","request","theUrl","method","accessToken","params","Promise","resolve","reject","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","open","setRequestHeader","send","stringify","SpotifyApi","refreshToken","url","getNewAccessToken","access_token","_makeRequest","timeout","ms","setTimeout","SpotifyPlayer","update","a","getCurrentlyPlaying","currentlyPlaying","state","spotifyPlayer","Object","keys","length","updateYoutubePlayer","pauseSpotifyIfNearEnd","skipWhenVideoEnds","youtubePlayerState","spotifyApi","skip","updateYoutubePlayerState","data","is_playing","item","duration_ms","progress_ms","pause","isCurrentlyPlayingNew","getVideoIdFromCurrentlyPlaying","youtubeVideoId","waitForPlayerToPlay","songName","name","artistName","artists","result","lastSongId","currentlyPlayingId","setState","lastSong","SpotifyPlaylists","className","Container","styled","div","StyledPlaylist","Playlist","YoutubeMySpotify","current","onYoutubePlayerStateChange","ref","createRef","AccountSummaryContainer","StyledImage","Image","Name","h2","Info","p","InfoContainer","AccountSummary","profile","style","display","images","roundedCircle","display_name","followers","total","product","StoredUserContainer","ProfilePicture","DeleteAccount","setCurrentUser","currentUser","localStorage","setItem","getUsers","getItem","setUsers","users","StoredUser","preventBubble","e","cancelBubble","stopPropagation","deleteAccountHandler","userToDelete","newUsers","filter","user","deleteUser","updateUsers","useAccountHandler","history","push","onClick","withRouter","AccountManagerContainer","StyledButton","Button","FacebookNotice","AccountManager","storeCurrentUser","stayLoggedIn","newUserId","some","onAddNewAccount","location","href","variant","map","index","key","getCurrentUserFromLocation","getStoredUsers","refresh_token","queryString","search","getProfile","userProfile","getUserProfile","spotifyLogoutWindow","close","HeaderContainer","HeaderText","StyledDropdown","Dropdown","DropdownButton","alignRight","Toggle","text","Menu","items","Item","onclick","Divider","Header","generateDropDownProps","generateItemsArrayFromUsers","App","loadCurrentUser","loadUsers","forceUpdate","http-equiv","content","path","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.b9ebed7f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass YoutubePlayer extends React.Component {\r\n  constructor(props){\r\n    super()\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    // On mount, check to see if the API script is already loaded\r\n\r\n    if (!window.YT) { // If not, load the script asynchronously\r\n      const tag = document.createElement('script');\r\n      tag.src = 'https://www.youtube.com/iframe_api';\r\n\r\n      // onYouTubeIframeAPIReady will load the video after the script is loaded\r\n      window.onYouTubeIframeAPIReady = this.loadVideo;\r\n\r\n      const firstScriptTag = document.getElementsByTagName('script')[0];\r\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n\r\n    } else { // If script is already there, load the video directly\r\n      this.loadVideo();\r\n    }\r\n  };\r\n\r\n  loadVideo = () => {\r\n    const { id } = this.props;\r\n\r\n    // the Player object is created uniquely based on the id in props\r\n    this.player = new window.YT.Player(`youtube-player-${id}`, {\r\n      videoId: id,\r\n      events: {\r\n        onReady: this.onPlayerReady,\r\n        onStateChange: this.onPlayerStateChange\r\n      },\r\n    });\r\n  };\r\n\r\n  onPlayerStateChange = (event) => {\r\n    this.props.onPlayerStateChange(event);\r\n  }\r\n\r\n\r\n  onPlayerReady = event => {\r\n    this.player = event.target;\r\n  };\r\n\r\n  loadVideoById(id){\r\n    this.player.loadVideoById(id, 0);\r\n  }\r\n\r\n  isPlayerReady(){\r\n    console.log(this.player.loadVideoById)\r\n    return (!!this.player.loadVideoById);\r\n  }\r\n\r\n  render = () => {\r\n    const { id } = this.props;\r\n    return (\r\n      <div>\r\n        <div id={`youtube-player-${id}`} />\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default YoutubePlayer;\r\n","export default function request(theUrl, method, accessToken, params = null){\r\n    return new Promise((resolve, reject) => {\r\n        var xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.onreadystatechange = function() {     \r\n            if (xmlHttp.readyState === 4 && (xmlHttp.status === 200)){\r\n                resolve(JSON.parse(xmlHttp.responseText));\r\n            }\r\n            if (xmlHttp.readyState === 4 && (xmlHttp.status === 204)){\r\n                resolve();\r\n            }\r\n            if (xmlHttp.readyState === 4){\r\n                reject(xmlHttp)\r\n            }\r\n        }\r\n\r\n        xmlHttp.open(method, theUrl, true); // true for asynchronous \r\n        if (accessToken){\r\n            xmlHttp.setRequestHeader('Authorization', 'Bearer ' + accessToken)\r\n        }\r\n        if (params){\r\n            xmlHttp.setRequestHeader('Content-Type', 'application/json');\r\n        }\r\n        xmlHttp.send(JSON.stringify(params));\r\n    })\r\n\r\n    //webby sux\r\n}\r\n","import request from \"./request\"\r\n\r\n\r\nexport default class SpotifyApi {\r\n    constructor(accessToken, refreshToken){\r\n        this.accessToken = accessToken;\r\n        this.refreshToken = refreshToken;\r\n    }\r\n\r\n    async _makeRequest(url, method, accessToken){\r\n        try{\r\n            return await request(url, method, accessToken);\r\n        }\r\n        catch (e) {\r\n            if (e.status === 401){\r\n                this.accessToken = (await this.getNewAccessToken(this.refreshToken)).access_token;\r\n                return request(url, method, this.accessToken);\r\n            }\r\n\r\n            throw e\r\n        }\r\n    }\r\n\r\n    getCurrentlyPlaying(){\r\n        return this._makeRequest('https://api.spotify.com/v1/me/player/currently-playing', 'GET', this.accessToken);\r\n    }\r\n\r\n    pause(){\r\n        return this._makeRequest('https://api.spotify.com/v1/me/player/pause', 'PUT', this.accessToken)\r\n    }\r\n\r\n    skip(){\r\n        return this._makeRequest('https://api.spotify.com/v1/me/player/next', 'POST', this.accessToken);\r\n    }\r\n\r\n    getProfile(){\r\n        return this._makeRequest('https://api.spotify.com/v1/me', 'GET', this.accessToken)\r\n    }\r\n\r\n    getNewAccessToken(refreshToken){\r\n        return request(`http://ec2-52-56-132-53.eu-west-2.compute.amazonaws.com:3000/refresh_token?refresh_token=${this.refreshToken}`, 'GET');\r\n    }\r\n}","export const timeout = (ms) => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {resolve()}, ms)\r\n  })\r\n}","import React from \"react\";\r\nimport SpotifyApi from '../../../api/spotifyApi'\r\nimport request from '../../../api/request'\r\nimport { timeout } from '../helpers'\r\n\r\nconst UPDATE_CURRENTLY_PLAYING_INTERVAL_MS = 1500;\r\nconst END_OF_SONG_BUFFER_MS = 15000\r\n\r\n\r\nclass SpotifyPlayer extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      spotifyPlayer: {\r\n        currentlyPlaying: {\r\n          \r\n        }\r\n      },\r\n      lastSong: ''\r\n    }\r\n\r\n    this.youtubePlayerState = -1;\r\n\r\n    const { accessToken, refreshToken } = props\r\n    this.spotifyApi = new SpotifyApi(accessToken, refreshToken)\r\n  }\r\n  \r\n  async componentDidMount() {\r\n    this.update();\r\n  }\r\n\r\n  update = async () => {\r\n    while(true){\r\n      try{\r\n        await this.getCurrentlyPlaying();\r\n        \r\n        const { spotifyPlayer: { currentlyPlaying }} = this.state;\r\n  \r\n        if(Object.keys(currentlyPlaying).length !== 0){\r\n          await this.updateYoutubePlayer(currentlyPlaying)\r\n          await this.pauseSpotifyIfNearEnd(currentlyPlaying)\r\n        }\r\n    \r\n        await this.skipWhenVideoEnds();\r\n    \r\n      }\r\n      catch (e) { console.log('e', e) }\r\n  \r\n      await timeout(UPDATE_CURRENTLY_PLAYING_INTERVAL_MS);\r\n    }\r\n  }\r\n\r\n  skipWhenVideoEnds = async () => {\r\n    console.log(this.youtubePlayerState);\r\n    if(this.youtubePlayerState === 0){\r\n      await this.spotifyApi.skip();\r\n    }\r\n  }\r\n\r\n  updateYoutubePlayerState = (event) => {\r\n    this.youtubePlayerState = event.data;\r\n  }\r\n\r\n  pauseSpotifyIfNearEnd = async (currentlyPlaying) => {\r\n    if (!currentlyPlaying.is_playing) {\r\n      return;\r\n    }\r\n\r\n    if (currentlyPlaying.item.duration_ms - currentlyPlaying.progress_ms < END_OF_SONG_BUFFER_MS) {\r\n        this.spotifyApi.pause();\r\n    }\r\n  }\r\n\r\n  updateYoutubePlayer = async (currentlyPlaying) => {\r\n    if (this.isCurrentlyPlayingNew(currentlyPlaying)){\r\n      const youtubeVideoId = await this.getVideoIdFromCurrentlyPlaying(currentlyPlaying);\r\n      this.props.updateYoutubePlayer(youtubeVideoId)\r\n      await this.waitForPlayerToPlay();\r\n    }\r\n  }\r\n\r\n  waitForPlayerToPlay = async () => {\r\n    if(this.youtubePlayerState !== 1){\r\n      await timeout(50);\r\n      await this.waitForPlayerToPlay();\r\n    }\r\n  }\r\n\r\n  getVideoIdFromCurrentlyPlaying = async (currentlyPlaying) => {\r\n    const songName = currentlyPlaying.item.name;\r\n    const artistName = currentlyPlaying.item.artists[0].name;\r\n\r\n    console.log(songName, artistName);\r\n\r\n    const result = await request('http://ec2-52-56-132-53.eu-west-2.compute.amazonaws.com:3000/getVideoId', 'POST', '', {songName, artistName})\r\n\r\n    // this.getVideoId(songName, artistName, (result) => {\r\n      console.log(result)\r\n    // })\r\n\r\n    return result.videoId;\r\n  }\r\n\r\n  \r\n  // getVideoId = (songName, artistName, callback) => {\r\n  //   var q = songName + ' ' + artistName + ' music video';\r\n  //   console.log('q:', q)\r\n  //   q = q.replace(/[^a-zA-Z1-9 ]+/g, \"\")\r\n       \r\n  //   this.getTopResult(q, callback)\r\n  // }\r\n\r\n  // getTopResult = async (q, callback) => {\r\n  //   var url = \"https://www.youtube.com/results?search_query=\" + q;\r\n  //   var result = \"boPyHl3iptQ\"\r\n    \r\n  //   console.log('result')\r\n  //   result = await request(url, 'GET');\r\n  //   console.log(result)\r\n\r\n  //   //     function(error, response, body) {\r\n  //   //         var txt = body;\r\n            \r\n  //   //         var re1='.*';\t// Non-greedy match on filler\r\n  //   //         var re2='((https://i.ytimg.com/vi/)[a-zA-Z0-9-_]+)';\t// Alphanum 1\r\n            \r\n  //   //         var p = new RegExp(re2,[\"i\"]);\r\n  //   //         var m = p.exec(txt);\r\n  //   //         if (m != null)\r\n  //   //         {\r\n  //   //             var alphanum1=m[1].replace(m[2], '');\r\n  //   //             var result = (alphanum1);\r\n  //   //         }\r\n            \r\n  //   //         console.log('result', result)\r\n  //   //         callback(result)\r\n  //   //     }\r\n  //   // );\r\n  // }\r\n\r\n\r\n  isCurrentlyPlayingNew = (currentlyPlaying) => {\r\n    const { lastSongId } = this.state;\r\n    const { item: { id: currentlyPlayingId }} = currentlyPlaying;\r\n\r\n    if (lastSongId != currentlyPlayingId) {\r\n        this.setState({lastSongId: currentlyPlayingId})\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n  getCurrentlyPlaying = async () => {\r\n    const { spotifyPlayer } = this.state;  \r\n    const currentlyPlaying = (await this.spotifyApi.getCurrentlyPlaying()) || {};\r\n    \r\n    spotifyPlayer.currentlyPlaying = currentlyPlaying;\r\n    this.setState({\r\n      spotifyPlayer\r\n    })\r\n  }\r\n\r\n  render = () => {\r\n    return (\r\n      <div>\r\n        <div>{JSON.stringify(this.state.spotifyPlayer.currentlyPlaying)}</div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default SpotifyPlayer;\r\n","import React from \"react\";\r\n\r\nclass SpotifyPlaylists extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n\r\n  render = () => {\r\n    const { className } = this.props;\r\n    console.log(className)\r\n    \r\n    return (\r\n      <div className={className}>\r\n        some cool playlist \r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default SpotifyPlaylists;\r\n","import styled from 'styled-components'\r\nimport Playlist from '../Playlist'\r\n\r\nexport const Container = styled.div`\r\n    display: flex;\r\n`\r\n\r\nexport const StyledPlaylist = styled(Playlist)`\r\n    && {\r\n        flex-grow: 1;\r\n        color: red;\r\n    }\r\n`","import React from \"react\";\r\nimport { Container, StyledPlaylist as Playlist } from './styled'\r\n\r\nclass SpotifyPlaylists extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n\r\n  render = () => {\r\n    return (\r\n      <Container>\r\n        <Playlist className='hello'/>\r\n        <Playlist className='hello'/>\r\n        <Playlist className='hello'/>\r\n      </Container>\r\n    );\r\n  };\r\n}\r\n\r\nexport default SpotifyPlaylists;\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n`","import React from \"react\";\r\nimport YoutubePlayer from './YoutubePlayer'\r\nimport SpotifyPlayer from './SpotifyPlayer'\r\nimport { timeout } from './helpers'\r\nimport SpotifyPlaylists from './SpotifyPlaylists'\r\nimport { Container } from './styled'\r\n\r\nclass YoutubeMySpotify extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.YoutubePlayer = React.createRef();\r\n    this.SpotifyPlayer = React.createRef();\r\n  }\r\n\r\n  updateYoutubePlayer = async (id) => {\r\n    try{\r\n      this.YoutubePlayer.current.loadVideoById(id);\r\n    }\r\n    catch(e){\r\n      await timeout(10);\r\n      this.updateYoutubePlayer(id);\r\n    }\r\n  }\r\n\r\n  onYoutubePlayerStateChange = (event) => {\r\n    this.SpotifyPlayer.current.updateYoutubePlayerState(event);\r\n  }\r\n\r\n  render = () => {\r\n    return (\r\n      <Container>\r\n        <YoutubePlayer ref={this.YoutubePlayer} onPlayerStateChange={this.onYoutubePlayerStateChange} id=\"iAtomM7ybOM\" />\r\n        {/* <YoutubePlayer ref={this.player} id=\"iAtomM7ybOM\" /> */}\r\n        <SpotifyPlayer {...this.props} ref={this.SpotifyPlayer} updateYoutubePlayer={this.updateYoutubePlayer}></SpotifyPlayer>\r\n        {/* <SpotifyPlayer {...this.props}></SpotifyPlayer> */}\r\n        <SpotifyPlaylists />\r\n      </Container>\r\n    );\r\n  };\r\n}\r\n\r\nexport default YoutubeMySpotify;\r\n","import styled from 'styled-components'\r\nimport Image from \"react-bootstrap/Image\";\r\n\r\nexport const AccountSummaryContainer = styled.div`\r\n    text-align: center\r\n`\r\n\r\nexport const StyledImage = styled(Image)`\r\n    height: 200px;\r\n    width: 200px;\r\n`\r\n\r\nexport const Name = styled.h2`\r\n    margin: 10px;\r\n`\r\n\r\nexport const Info = styled.p`\r\n    display: inline;\r\n    margin: 5px;\r\n    color: grey;\r\n`\r\n\r\nexport const InfoContainer = styled.p`\r\n    color: grey;\r\n`\r\n","import React from \"react\";\r\nimport { AccountSummaryContainer, StyledImage as Image, Name, Info, InfoContainer } from \"./styled\"\r\nimport request from \"../../../api/request\";\r\n\r\nclass AccountSummary extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n\r\n  render = () => {\r\n    const { profile } = this.props\r\n\r\n    return (\r\n      <AccountSummaryContainer>\r\n         <iframe style={{display: 'none'}} src=\"https://spotify.com/logout\"></iframe> \r\n\r\n        <Image src={profile.images.length ? profile.images[0].url : 'https://pmcdeadline2.files.wordpress.com/2019/10/shutterstock_editorial_10434333bm.jpg?crop=0px%2C0px%2C2903px%2C1627px&resize=681%2C383'} roundedCircle />\r\n        <Name>{profile.display_name}</Name>\r\n        <InfoContainer>\r\n          <Info>{profile.followers.total} followers</Info> | <Info>{profile.product === 'premium' ? 'Premium' : 'Free Account'}</Info>\r\n        </InfoContainer>\r\n      </AccountSummaryContainer>\r\n    );\r\n  };\r\n}\r\n\r\nexport default AccountSummary;\r\n","import styled from 'styled-components'\r\nimport Image from \"react-bootstrap/Image\";\r\n\r\nexport const StoredUserContainer = styled.div`\r\n    border: 2px solid #888; \r\n    max-width: 350px;\r\n    overflow: auto;\r\n    text-align: left;\r\n    margin: auto;\r\n    border-radius: 5px;\r\n\r\n    &:hover {\r\n        box-shadow: 2px 2px #555;\r\n    }\r\n`\r\n\r\nexport const ProfilePicture = styled(Image)`\r\n    display: inline-block;\r\n    height: 60px;\r\n    width: 60px;\r\n    margin: 10px 15px;\r\n    float: left;\r\n`\r\n\r\nexport const Name = styled.p`\r\n    display: inline-block;\r\n    margin: 23px 0px;\r\n\r\n`\r\n\r\nexport const DeleteAccount = styled.div`\r\n    display: inline-block;\r\n    width: 20px;\r\n    height: 20px;\r\n    float: right;\r\n\r\n    &:hover {\r\n        color: red; // <Thing> when hovered\r\n    }\r\n`\r\n","export const setCurrentUser = (currentUser) => {\r\n    window.localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n}\r\n\r\nexport const deleteUser = (userToDelete) => {\r\n    const users = getUsers();\r\n    const newUsers = users.filter(user => user.profile.id !== userToDelete.profile.id)\r\n    setUsers(newUsers);\r\n}\r\n\r\nexport const getUsers = () => {\r\n    return JSON.parse(window.localStorage.getItem('users')) || [];\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n    window.localStorage.setItem('users', JSON.stringify(users));\r\n}\r\n\r\n","import React from \"react\";\r\nimport { StoredUserContainer, ProfilePicture, Name, DeleteAccount } from './styled'\r\nimport { setCurrentUser, deleteUser } from '../helpers'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nclass StoredUser extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n\r\n  preventBubble = (e = window.event) => {\r\n    e.cancelBubble = true;\r\n    if (e.stopPropagation) e.stopPropagation();\r\n  }\r\n\r\n  deleteAccountHandler = (e) => {\r\n    this.preventBubble(e)\r\n    deleteUser(this.props.user)\r\n    this.props.updateUsers();\r\n  }\r\n\r\n  useAccountHandler = (e) => {\r\n    setCurrentUser(this.props.user)\r\n    this.props.history.push(\"/YoutubeMySpotify\");\r\n  }\r\n\r\n  render = () => {\r\n    const { profile } = this.props.user;\r\n\r\n    return (\r\n      <StoredUserContainer onClick={this.useAccountHandler}>\r\n        <ProfilePicture src={profile.images.length ? profile.images[0].url : 'https://pmcdeadline2.files.wordpress.com/2019/10/shutterstock_editorial_10434333bm.jpg?crop=0px%2C0px%2C2903px%2C1627px&resize=681%2C383'} roundedCircle />\r\n        <Name>{profile.display_name}</Name>\r\n        <DeleteAccount onClick={this.deleteAccountHandler}>x</DeleteAccount>\r\n      </StoredUserContainer>\r\n    );\r\n  };\r\n}\r\n\r\nexport default withRouter(StoredUser);\r\n","import styled from 'styled-components'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport const AccountManagerContainer = styled.div`\r\n    margin: 80px;\r\n    text-align: center\r\n`\r\n\r\nexport const StyledButton = styled(Button)`\r\n    margin: 15px 5px;\r\n`\r\n\r\nexport const FacebookNotice = styled.p`\r\n    position: absolute;\r\n    bottom: 10px;\r\n    color: #DDD;\r\n    margin: 5px;\r\n    left: 0;\r\n    right: 0;\r\n`\r\n","import React from \"react\";\r\nimport { LOGIN_URL } from '../../constants';\r\nimport queryString from 'query-string';\r\nimport { withRouter } from 'react-router-dom'\r\nimport SpotifyApi from '../../api/spotifyApi'\r\nimport AccountSummary from \"./AccountSummary\"\r\nimport StoredUser from \"./StoredUser\"\r\nimport { StyledButton as Button, FacebookNotice } from \"./styled\"\r\nimport { setCurrentUser, getUsers, setUsers } from './helpers'\r\n\r\nclass AccountManager extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      currentUser: this.getCurrentUserFromLocation(props.location),\r\n      users: this.getStoredUsers()\r\n    }\r\n\r\n    this.spotifyApi = new SpotifyApi(this.state.currentUser.accessToken, this.state.currentUser.refresh_token)\r\n  }\r\n\r\n  updateUsers = () => {\r\n    this.setState({ users: getUsers() })\r\n    this.props.updateUsers();\r\n  }\r\n\r\n  getStoredUsers() {\r\n    const users = getUsers();\r\n    return users;\r\n  }\r\n\r\n  getCurrentUserFromLocation(location) {\r\n    const params = queryString.parse(location.search);\r\n    const { access_token, refresh_token } = params\r\n    return {\r\n      accessToken: access_token,\r\n      refreshToken: refresh_token\r\n    }\r\n  }\r\n\r\n  async getUserProfile() {\r\n    if (!this.spotifyApi.accessToken) {\r\n      return\r\n    }\r\n\r\n    const userProfile = await this.spotifyApi.getProfile();\r\n\r\n    const { currentUser } = this.state;\r\n    currentUser.profile = userProfile\r\n\r\n    this.setState({ currentUser });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.getUserProfile()\r\n  }\r\n\r\n\r\n  storeCurrentUser = (stayLoggedIn) => {\r\n    const { currentUser, users } = this.state;\r\n\r\n    if (stayLoggedIn) {\r\n      const newUserId = currentUser.profile.id\r\n\r\n      if (!users.some(user => user.profile.id === newUserId)) {\r\n        users.push(currentUser);\r\n        this.setState({ users })\r\n      }\r\n    }\r\n\r\n    setCurrentUser(currentUser);\r\n    setUsers(users)\r\n\r\n    // this.spotifyLogout();\r\n\r\n    this.props.updateUsers()\r\n    this.props.history.push(\"/YoutubeMySpotify\");\r\n  }\r\n\r\n  spotifyLogout(){\r\n    const url = 'https://www.spotify.com/logout/'\r\n    const spotifyLogoutWindow = window.open(url, 'Spotify Logout', 'width=700,height=500,top=40,left=40')\r\n    setTimeout(() => {\r\n      spotifyLogoutWindow.close()\r\n    }, 2000)\r\n    console.log('logged out now')\r\n  }\r\n\r\n  onAddNewAccount = () => {\r\n    window.location.href = LOGIN_URL;\r\n  }\r\n\r\n  render = () => {\r\n    const { currentUser, users } = this.state;\r\n\r\n    if (currentUser.refreshToken && currentUser.profile) {\r\n      return (\r\n        <div>\r\n          <p>Would you like to stay logged in?</p>\r\n          <br />\r\n          <AccountSummary {...currentUser} />\r\n          <Button variant=\"secondary\" onClick={() => this.storeCurrentUser(false)}>No Thanks</Button>\r\n          <Button onClick={() => this.storeCurrentUser(true)}>Yes Please!</Button>\r\n\r\n          <FacebookNotice>If you wish to sign in using a different facebook account, you must first <a target=\"_blank\" href=\"https://www.facebook.com\">log out</a> of your current facebook account.</FacebookNotice>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div>\r\n\r\n          <p>{users.length ? 'Your saved accounts...' : 'No Accounts'}</p>\r\n          {users.map((user, index) => <StoredUser user={user} updateUsers={this.updateUsers} key={index} />)}\r\n          <br />\r\n          <Button onClick={() => this.onAddNewAccount()}>Add a new Account</Button>\r\n\r\n        </div>\r\n      )\r\n    }\r\n  };\r\n}\r\n\r\nexport default withRouter(AccountManager);\r\n","export const LOGIN_URL = 'http://ec2-52-56-132-53.eu-west-2.compute.amazonaws.com:3000/login';","import styled from 'styled-components'\r\n\r\nexport const HeaderContainer = styled.div`\r\n    padding: 9px;\r\n    background-color: black;\r\n`\r\n\r\nexport const HeaderText = styled.p`\r\n    margin: 0;\r\n    display: inline;    \r\n`\r\n","import styled from 'styled-components'\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\n\r\nexport const StyledDropdown = styled(Dropdown)`\r\n    display: inline;    \r\n    float: right;\r\n    margin: -8px;\r\n`","import React from \"react\";\r\nimport { StyledDropdown as Dropdown } from \"./styled\";\r\n\r\n\r\n/*\r\nprops: {\r\n    variant: 'success',\r\n    text: 'Dropdown Button',\r\n    items: [\r\n        href: './', --want to do on click here or something\r\n        text: 'hello world',\r\n    ]\r\n}\r\n*/\r\nfunction DropdownButton (props){\r\n    return (\r\n      <Dropdown alignRight>\r\n        <Dropdown.Toggle variant={props.variant} id=\"dropdown-basic\">\r\n          {props.text}\r\n        </Dropdown.Toggle>\r\n\r\n        <Dropdown.Menu>\r\n          {props.items.map((item, index) => {\r\n            return Object.keys(item).length\r\n              ? <Dropdown.Item onClick={item.onclick} key={index}>{item.text}</Dropdown.Item>\r\n              : <Dropdown.Divider key={index} />\r\n          })}\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n\r\n}\r\n\r\nexport default DropdownButton;\r\n","import React from \"react\";\r\nimport { HeaderContainer, HeaderText } from \"./styled\";\r\nimport DropdownButton from \"./DropdownButton\"\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n\r\n  generateDropDownProps(){\r\n    return {\r\n      variant: 'secondary',\r\n      text: 'Account',\r\n      items: this.generateItemsArrayFromUsers()\r\n    }\r\n  }\r\n\r\n  generateItemsArrayFromUsers(){\r\n    const items = this.props.users.map(user => {\r\n      return {\r\n        href: '/',\r\n        text: user.profile.display_name\r\n      } \r\n    })\r\n\r\n    items.push({}) //divider\r\n    items.push({\r\n        onclick: () => {\r\n          this.props.history.push(\"/AccountManager\");\r\n        },\r\n        text: 'Account Manager'\r\n      }\r\n    )\r\n\r\n    return items;\r\n  }\r\n\r\n  render = () => {\r\n    return (\r\n      <HeaderContainer>\r\n        <HeaderText onClick={() => window.location = '/'}>Youtube My Spotify</HeaderText>\r\n        <DropdownButton {...this.generateDropDownProps()}></DropdownButton>\r\n      </HeaderContainer>\r\n    );\r\n  };\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import React from \"react\";\r\nimport YoutubeMySpotify from \"./components/YoutubeMySpotify\";\r\nimport AccountManager from \"./components/AccountManager\";\r\nimport Header from \"./components/Header/index.js\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { AccountManagerContainer } from \"./components/AccountManager/styled\";\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.player = React.createRef();\r\n    this.state = {\r\n      currentUser: this.loadCurrentUser(),\r\n      users: this.loadUsers()\r\n    };\r\n  }\r\n\r\n  updateUsers = () => {\r\n    this.setState({ currentUser: this.loadCurrentUser() });\r\n    this.setState({ users: this.loadUsers() });\r\n    this.forceUpdate();\r\n  };\r\n\r\n  loadCurrentUser() {\r\n    return JSON.parse(window.localStorage.getItem(\"currentUser\"));\r\n  }\r\n\r\n  loadUsers() {\r\n    return JSON.parse(window.localStorage.getItem(\"users\")) || [];\r\n  }\r\n\r\n  loadVideoById = id => {\r\n    this.player.current.loadVideoById(id);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <meta http-equiv=\"Content-Security-Policy\" content=\"default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';\" />\r\n        {/* https://www.youtube.com/watch?v=1wDzEjXbblM */}\r\n        <Router>\r\n          <Header {...this.state}></Header>\r\n          gh-pages yo yo\r\n          <Switch>\r\n            <Route path=\"/YoutubeMySpotify\">\r\n              <YoutubeMySpotify {...this.state.currentUser} />\r\n            </Route>\r\n            <Route path=\"/AccountManager\">\r\n              <AccountManagerContainer>\r\n                <AccountManager updateUsers={() => this.updateUsers()} />\r\n              </AccountManagerContainer>\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}